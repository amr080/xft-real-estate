"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9879],{59305:function(e,l,t){t.d(l,{q:function(){return a}});let a={token:"#F7931A",forex:"#C2EFB3","real-estate":"#4766EA"}},40385:function(e,l,t){t.d(l,{B:function(){return i},Ms:function(){return s},Nj:function(){return n},T:function(){return r},hN:function(){return a}});let a={"1d":{label:"1 Day",smallLabel:"1d",days:1},"1w":{label:"1 Week",smallLabel:"1w",days:7},"1m":{label:"1 Month",smallLabel:"1m",days:30},"3m":{label:"3 Months",smallLabel:"3m",days:90},"6m":{label:"6 Months",smallLabel:"6m",days:180},"1y":{label:"1 Year",smallLabel:"1y",days:365},max:{label:"Max",smallLabel:"Max",days:365}},i="3m",n={1:"5",7:"60",30:"120",90:"360",180:"720",365:"1D",max:"1W"},s="lg:h-[500px] h-[276px]",r="lg:h-[500px] h-[352px]"},88408:function(e,l,t){t.d(l,{ci:function(){return d},E3:function(){return r},TH:function(){return c}});var a=t(52676),i=t(47433),n=t(75271);function s(e,l){switch(l.type){case"setActiveField":return{...e,activeField:l.payload};case"buyFlowReset":return{...e,flowDirection:void 0,buyInfo:{notional:void 0,size:void 0,leverage:void 0}};case"sellFlowReset":return{...e,flowDirection:void 0,sellInfo:{notional:void 0,size:void 0,percent:void 0}};case"setSide":return{...e,side:l.payload};case"setFlowDirection":return{...e,flowDirection:l.payload};case"setPositionCtx":return{...e,positionCtx:l.payload};case"setSignature":return{...e,signature:l.payload};case"setSize":if("buy"===e.flowDirection)return{...e,buyInfo:{...e.buyInfo,size:l.payload.size}};return{...e,sellInfo:{...e.sellInfo,size:l.payload.size}};case"setNotional":if("buy"===e.flowDirection)return{...e,buyInfo:{...e.buyInfo,notional:l.payload.notional}};return{...e,sellInfo:{...e.sellInfo,notional:l.payload.notional}};case"setLeverage":return{...e,buyInfo:{...e.buyInfo,leverage:l.payload.leverage}};case"setPercent":return{...e,sellInfo:{...e.sellInfo,percent:l.payload.percent}};case"setMaxSlippage":return(0,i.sn)(l.payload),{...e,maxSlippage:l.payload};case"reset":return r;default:throw Error("Unhandled action type: ".concat(l.type))}}let r={side:"long",maxSlippage:(0,i.O4)(),flowDirection:void 0,activeField:void 0,buyInfo:{size:void 0,notional:void 0,leverage:void 0},sellInfo:{size:void 0,notional:void 0,percent:void 0},positionCtx:void 0,signature:void 0},o=(0,n.createContext)({state:r,dispatch:()=>{}});function d(e){let{children:l}=e,[t,i]=(0,n.useReducer)(s,r);return(0,a.jsx)(o.Provider,{value:{state:t,dispatch:i},children:l})}function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("usePositionManagement must be used within a PositionManagementProvider");return e}},66916:function(e,l,t){function a(e){let{buyInfo:l,activeField:t}=e;switch(t){case"notionalDelta":return{notionalDelta:l.notional};case"sizeDelta":return{sizeDelta:l.size};case"targetLeverageMultiple":return{targetLeverageMultiple:l.leverage};default:return{}}}function i(e){let{sellInfo:l,activeField:t}=e;switch(t){case"notionalDelta":return{input:l.notional};case"sizeDelta":return{input:l.size};case"percentClose":return{input:l.percent};default:return{input:void 0}}}t.d(l,{N:function(){return i},o:function(){return a}})},51621:function(e,l,t){function a(e,l,t,a,i){l!==e&&(t({type:"setSize",payload:{size:"sizeDelta"===l?a:void 0}}),t({type:"setNotional",payload:{notional:"notionalDelta"===l?i:void 0}}),t({type:"setLeverage",payload:{leverage:void 0}}),t({type:"setActiveField",payload:l}))}function i(e,l,t,a,i){l!==e&&(t({type:"setSize",payload:{size:"sizeDelta"===l?a:void 0}}),t({type:"setNotional",payload:{notional:"notionalDelta"===l?i:void 0}}),t({type:"setPercent",payload:{percent:"percentClose"===l?"100":void 0}}),t({type:"setActiveField",payload:l}))}t.d(l,{T:function(){return a},V:function(){return i}})},12249:function(e,l,t){t.d(l,{S:function(){return p}});var a=t(52676),i=t(45487),n=t(2972),s=t(40639),r=t(91671),o=t(1151),d=t(2802),c=t(51035),u=t(98241),m=t(49178),x=t(45924),f=t(75271);function p(e){var l;let{loading:t,liquidationPrice:p,positionMaintenanceMarginRatio:h,positionInitialMarginRatio:v}=e,{data:g}=(0,i.y)(),[j,y]=(0,f.useState)(!1);return(0,a.jsx)("div",{className:"flex flex-col items-start justify-center w-full",children:(0,a.jsx)(c.z,{classParentString:"w-full",open:j,trigger:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onClick:()=>{y(!j)},className:"flex items-center justify-start w-full",children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.J,{name:"chevron-right",prefix:"sharp-solid",color:"default",size:"x-small",className:(0,x.Z)("mr-x-small transform transition-all",{"rotate-90":j})})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.a,{category:"paragraph",mode:"small",className:"block whitespace-nowrap",children:"Margin Requirements"})}),(0,a.jsx)(u.Z,{className:"mx-x-small"})]})}),children:(0,a.jsxs)("div",{className:"flex flex-col w-full pl-default",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full pb-x-small mt-default",children:[(0,a.jsx)(d.k,{tooltipTitle:"Initial Margin",tooltipContent:"This is the starting amount of money needed to open a position, determined by a set formula that combines a constant ratio and a variable part that grows with the size of your trade.",children:(0,a.jsx)(o.a,{category:"paragraph",mode:"small",children:"Initial Margin"})}),t?(0,a.jsx)(m.o,{height:"20px",width:"80px"}):(0,a.jsxs)(o.a,{category:"label",mode:"small",children:[(0,s.J)(v,2),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full pb-x-small",children:[(0,a.jsx)(d.k,{tooltipTitle:"Maintenance Margin",tooltipContent:"This is a reduced percentage of the initial margin requirement; if your account balance drops below this point as a result of 1 or more positions, you must deposit additional funds or risk having your entire account liquidated.",children:(0,a.jsx)(o.a,{category:"paragraph",mode:"small",children:"Maintenance Margin"})}),t?(0,a.jsx)(m.o,{height:"20px",width:"80px"}):(0,a.jsxs)(o.a,{category:"label",mode:"small",children:[(0,s.J)(h,2),"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)(d.k,{tooltipTitle:"Est. Liquidation Price",tooltipContent:"Assumes this is the only position in your account – represents the price where your position will be liquidated",children:(0,a.jsx)(o.a,{category:"paragraph",mode:"small",children:"Est. Liquidation Price"})}),t?(0,a.jsx)(m.o,{height:"20px",width:"80px"}):(0,a.jsx)(o.a,{category:"label",mode:"small",children:(0,n.Y)(p,null!==(l=null==g?void 0:g.currency)&&void 0!==l?l:"usd")})]})]})})})}},86305:function(e,l,t){t.d(l,{N:function(){return v}});var a=t(52676),i=t(68459),n=t(13507),s=t(78433),r=t(1151),o=t(5968),d=t(49178),c=t(55509),u=t(45924),m=t(53765),x=t(75271),f=t(74704),p=t(66916),h=t(64656);function v(){let{state:e}=(0,i.A8)(),l=(0,x.useMemo)(()=>({...(0,p.o)({buyInfo:{notional:e.notional,size:e.size,leverage:e.leverage},activeField:e.activeField}),inputKind:(0,h.p)(e.activeField)?e.activeField:"notionalDelta",side:e.side,maxSlippage:e.maxSlippage}),[e.activeField,e.leverage,e.maxSlippage,e.notional,e.side,e.size]),[t]=(0,f.Nr)(l,300),{data:v,isLoading:g}=function(e){let{inputKind:l,sizeDelta:t,notionalDelta:a,targetLeverageMultiple:i,side:s,maxSlippage:r}=e;return(0,n.p)({inputKind:l,sizeDelta:t,notionalDelta:a,targetLeverageMultiple:i,side:s,maxSlippage:r,select:e=>null==e?void 0:e.accruedFundingEstimateOneHour})}(t),j=(0,c.nM)(null!=v?v:0);return(0,a.jsx)(o.U,{intent:"default",heading:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.a,{category:"label",mode:"default",className:"flex items-center",children:"Funding Impact (1hr)"})}),body:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(r.a,{category:"paragraph",mode:"small",children:"If market conditions stay the same:"}),(0,a.jsxs)(r.a,{category:"paragraph",mode:"small",className:(0,u.Z)("items-center mt-default",{block:!g,flex:g}),children:["You"," ",g?(0,a.jsx)(d.o,{height:"20px",width:"50px",className:"mx-xx-small"}):j?(0,a.jsx)(r.a,{category:"label",mode:"small",className:"mx-xx-small text-signal-error-default",children:"Lose"}):(0,a.jsx)(r.a,{category:"paragraph",mode:"small",className:"mx-xx-small text-signal-success-default",children:"Gain"})," ",g?(0,a.jsx)(d.o,{height:"20px",width:"30px",className:"mr-xx-small"}):(0,a.jsxs)(r.a,{className:"mr-xx-small",category:"label",mode:"small",children:["$",(0,s.a)(new m.Z(null!=v?v:0).abs().toSD(2).toString())]})," ","over the next 60min."]})]})})}},38972:function(e,l,t){t.d(l,{K:function(){return v}});var a=t(52676),i=t(45487),n=t(2972),s=t(40639),r=t(91671),o=t(1151),d=t(5968),c=t(51035),u=t(98241),m=t(49178),x=t(70023),f=t(38670),p=t(45924),h=t(75271);function v(e){var l;let{fillPrice:t,loading:v,slippage:g,setSlippage:j}=e,{data:y}=(0,i.y)(),[w,b]=(0,h.useState)(!1);return(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsx)(c.z,{className:"w-full",openedClassName:"w-full",open:w,trigger:(0,a.jsxs)("div",{onClick:()=>{b(!w)},className:(0,p.Z)("flex items-center justify-between w-full"),children:[(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsx)(x.u,{className:"w-full mr-x-small whitespace-nowrap",content:"Estimated execution for this trade with the provided Amount and Size - sqft inputs",title:"Est. Fill Price",noUnderline:!0,children:(0,a.jsx)(o.a,{category:"paragraph",mode:"small",children:"Est. Fill Price"})}),v?(0,a.jsx)(m.o,{className:"w-[80px] h-[20px]",height:"",width:""}):(0,a.jsx)(o.a,{category:"number",mode:"small",className:"w-full text-trend-uptrend-default",children:(0,n.Y)(t,null!==(l=null==y?void 0:y.currency)&&void 0!==l?l:"usd")})]}),(0,a.jsx)(u.Z,{className:"mx-x-small"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(o.a,{category:"paragraph",mode:"small",className:"mr-x-small",children:[(0,s.J)(g,2),"%"]}),(0,a.jsx)("button",{children:(0,a.jsx)(r.J,{name:"gear",prefix:"sharp-solid",size:"x-small",color:"default",className:(0,p.Z)("transition-all transform",{"rotate-180":w})})})]})]}),children:(0,a.jsxs)("div",{className:"pt-x-small",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.a,{category:"paragraph",mode:"small",children:"Max Slippage"}),(0,a.jsx)(f.E,{icon:"percent",iconPrefix:"sharp-solid",style:{margin:0},className:"w-[80px] !mb-none",value:g,maxDecimals:2,onInputChange:e=>{j(e)}})]}),.05>Number(g)?(0,a.jsx)(d.U,{className:"mt-default",intent:"warning",heading:"Slippage below 0.05% may result in a failed transaction.",iconColor:"warning",iconName:"triangle-exclamation",iconPrefix:"sharp-solid",body:(0,a.jsx)(a.Fragment,{})}):null]})})})}},5513:function(e,l,t){t.d(l,{g:function(){return $}});var a=t(52676),i=t(75065),n=t(90506),s=t(68459),r=t(60057),o=t(4886),d=t(80003),c=t(53765);function u(e){var l,t,n,s,r;let{pointsQuote:u,hidePointsAction:m=!1,hidePointsActivateCta:x=!1,variant:f}=e,{publicKey:p}=(0,d.O)(),h=new c.Z(null!==(l=null==u?void 0:u.estimatedPointsPerDay)&&void 0!==l?l:0).toDP(2).toNumber(),v=new c.Z(null!==(t=null==u?void 0:u.estimatedPointsPerDayWithBoost)&&void 0!==t?t:0).toDP(2).toNumber(),g=new c.Z(null!==(n=null==u?void 0:u.referredBoost)&&void 0!==n?n:0).toNumber(),j=new c.Z(null!==(s=null==u?void 0:u.firstHoaBoost)&&void 0!==s?s:0).add(null!==(r=null==u?void 0:u.additionalHoaBoost)&&void 0!==r?r:0).toNumber();return(!p||x)&&m?null:(0,a.jsx)(a.Fragment,{children:i.l?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(o.v,{variant:f,value:h,boostedValue:v,referralPct:g,hoaPct:j,snapshotBoosts:null==u?void 0:u.snapshotBoosts})}):null})}var m=t(92323),x=t(78688),f=t(13507),p=t(46896),h=t(91671),v=t(54393),g=t(84263),j=t(45924),y=t(75271),w=t(74704),b=t(66916),N=t(64656),D=t(43622),F=t(73451),C=t(31032),_=t(45487),S=t(77312),k=t(2972),P=t(40639),z=t(1151),I=t(2802),Z=t(45603),M=t(98241),R=t(22476),T=t(49178),L=t(30266),O=t(34245),A=t(55509),E=t(86430),q=t(33650),J=t(67376),W=t(12249),U=t(86305);function Q(e){let{route:l,setRoute:t}=e;return(0,a.jsxs)("div",{className:"flex items-center h-[62px] justify-start w-full border-b p-default border-neutral-border-surface-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start w-full",children:["new_position_review"===l?(0,a.jsx)("button",{onClick:()=>{t("new_position")},children:(0,a.jsx)(h.J,{name:"arrow-left",className:"mr-default",prefix:"sharp-solid",color:"default"})}):null,(0,a.jsxs)(z.a,{className:"text-white",category:"label",mode:"small",children:["new_position_review"===l?"Review Order":null,"new_position_processing"===l?"Order Processing":null,"new_position_success"===l?"Order Confirmed":null]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end w-full",children:["new_position_processing"===l?(0,a.jsx)(L.$,{size:"small"}):null,"new_position_success"===l?(0,a.jsx)(h.J,{name:"check",prefix:"sharp-solid",color:"success"}):null]})]})}var H=t(7541);function B(e){var l,t,i;let{quote:n,isQuoteLoading:o,quoteNotionalFmt:d,quoteSizeFmt:u,quoteLevFmt:m,onConfirm:f}=e,{data:p}=(0,_.y)(),{data:h}=(0,x.K)(),{route:v,setRoute:g}=(0,r.y)(),{data:w}=(0,C.M)(),{state:b,dispatch:N}=(0,s.A8)(),{isMobile:D}=(0,S.d)(),{hideDrawer:B}=(0,F.yT)(),K=(0,A.xP)(b.notional)||(0,A.xP)(b.size)||(0,A.xP)(b.leverage);return(0,a.jsx)(q.u,{show:"new_position_review"===v||"new_position_processing"===v||"new_position_success"===v,as:y.Fragment,enter:"transition ease-out duration-300",enterFrom:"opacity-0 translate-y-10",enterTo:"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{className:"w-full",children:[!D&&"new_position_success"===v&&(0,a.jsxs)("div",{className:"flex justify-center w-full",children:[(0,a.jsx)(O.G,{onClick:()=>{N({type:"reset"}),g("view_positions")}})," "]}),(0,a.jsxs)(R.T,{className:"flex justify-start border border-transparent md:border-neutral-border-surface-default w-full flex-col items-center min-h-[300px] shadow-black shadow-lg",children:[(0,a.jsx)(Q,{route:v,setRoute:g}),(0,a.jsxs)("div",{className:"flex flex-col w-full border-b p-default border-neutral-fill-surface-background",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full pb-default",children:[(0,a.jsx)(I.k,{tooltipContent:"Estimated execution for this trade with the provided Amount and Size - sqft inputs",tooltipTitle:"Est. Fill Price",textSize:"small",children:"Est. Fill Price"}),o?(0,a.jsx)(T.o,{className:"w-[80px] h-[20px]",height:"",width:""}):(0,a.jsx)(z.a,{category:"paragraph",mode:"default",className:"text-trend-uptrend-default",children:(0,k.Y)(null==n?void 0:n.fillPrice,null!==(l=null==p?void 0:p.currency)&&void 0!==l?l:"usd")})," "]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)(z.a,{category:"paragraph",mode:"small",children:"Max Slippage"}),(0,a.jsxs)(z.a,{category:"label",mode:"default",children:[(0,P.J)(b.maxSlippage,2),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full px-default pt-default",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(z.a,{category:"label",mode:"small",className:(0,j.Z)("font-normal block whitespace-nowrap",{"text-trend-uptrend-default":"long"===b.side,"text-trend-downtrend-default":"short"===b.side}),children:[(0,E.k)(b.side)," Position"]}),(0,a.jsx)(M.Z,{className:"ml-x-small"})]}),(0,a.jsx)(z.a,{category:"label",mode:"default",children:null==w?void 0:w.name})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full p-default",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full pb-default",children:[(0,a.jsx)(z.a,{category:"paragraph",mode:"small",children:"Amount"}),(0,a.jsxs)(z.a,{"data-cy":"review-amount",category:"label",mode:"default",children:["$","notionalDelta"===b.activeField?new c.Z(null!==(t=""===b.notional?0:b.notional)&&void 0!==t?t:0).toDP(2,c.Z.ROUND_DOWN).toFixed(2).toString():d]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full pb-default",children:[(0,a.jsxs)(z.a,{category:"paragraph",mode:"small",children:["Size ","— sqft"]}),(0,a.jsx)(z.a,{"data-cy":"review-size",category:"label",mode:"default",children:"sizeDelta"===b.activeField?b.size:u})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)(z.a,{category:"paragraph",mode:"small",children:"Leverage"}),(0,a.jsxs)(z.a,{"data-cy":"review-leverage",category:"label",mode:"default",children:["targetLeverageMultiple"===b.activeField?new c.Z(""===b.leverage?"0":null!==(i=b.leverage)&&void 0!==i?i:0).toDP(2).toString():m,"x"]})]})]}),"new_position_success"!==v&&(0,a.jsx)("div",{className:"flex flex-col w-full p-default",children:(0,a.jsx)(Z.z,{"data-cy":"submit-trade",disabled:"new_position_processing"===v,intent:"long"===b.side?"success":"danger",onClick:()=>{f()},children:"new_position_processing"===v?(0,a.jsx)(L.$,{size:"small"}):"Open ".concat((0,E.k)(b.side)," Position")})}),"new_position_success"!==v&&K&&Number(null==w?void 0:w.marginCollateral)>0?(0,a.jsx)("div",{className:"flex w-full px-default pb-default",children:(0,a.jsx)(U.N,{})}):null,(0,a.jsxs)("div",{className:"w-full px-default",children:[" ",(0,a.jsx)(H.w,{loading:o,makerFeeRate:null==h?void 0:h.makerFeeRate,takerFeeRate:null==h?void 0:h.takerFeeRate,tradeFee:null==n?void 0:n.tradeFee})]}),(0,a.jsx)("div",{className:"flex w-full px-default mt-default pb-default",children:(0,a.jsx)(W.S,{loading:o,liquidationPrice:null==n?void 0:n.liquidationPrice,positionMaintenanceMarginRatio:null==n?void 0:n.positionMaintenanceMarginRatio,positionInitialMarginRatio:null==n?void 0:n.positionInitialMarginRatio})}),"new_position_success"===v&&(0,a.jsx)(J.s,{signature:b.signature})]}),D&&"new_position_success"===v?(0,a.jsx)("div",{className:"flex items-center w-full p-default",children:(0,a.jsx)(Z.z,{onClick:()=>{g("view_positions"),N({type:"reset"}),B()},className:"w-full",intent:"secondary",children:"Close"})}):null]})})}var K=t(13737);function $(){var e,l,t,o,d;let F=(0,g.NL)(),{route:C,setRoute:_}=(0,r.y)(),{state:S,dispatch:k}=(0,s.A8)(),{data:P}=(0,x.K)(),{setToast:z}=(0,n.pm)(),{mutate:I}=(0,p.n)({onMutate:()=>{_("new_position_processing")},onSuccess:e=>{_("new_position_success"),i.l&&z({type:"reward",msg:"Diamond Hands — Bonus Activated!",subheading:"You will now receive points as long as this trade is open.",opts:{icon:(0,a.jsx)(h.J,{name:"diamond",prefix:"sharp-solid",color:"default"}),autoClose:5e3}}),k({type:"setSignature",payload:e})},onTimeout:e=>{k({type:"setSignature",payload:e}),_("new_position_timeout")},onError:e=>{if((0,v.w)(e)){F.invalidateQueries([m.yI]),_("new_position_timeout");return}_("new_position_review"),z({type:"error",msg:"Something went wrong. Please try again."})}}),Z=(0,y.useMemo)(()=>({...(0,b.o)({buyInfo:{notional:S.notional,size:S.size,leverage:S.leverage},activeField:S.activeField}),inputKind:(0,N.p)(S.activeField)?S.activeField:"notionalDelta",side:S.side,maxSlippage:S.maxSlippage}),[S.activeField,S.leverage,S.maxSlippage,S.notional,S.side,S.size]),[M]=(0,w.Nr)(Z,300),{data:R,isInitialLoading:T,isSuccess:L,isError:O,error:A}=(0,f.p)(M),E=L?new c.Z(null!==(t=null==R?void 0:null===(e=R.openInterestDelta)||void 0===e?void 0:e.notional)&&void 0!==t?t:0).toDP(2).toString():void 0,q=L?new c.Z(null!==(o=null==R?void 0:null===(l=R.openInterestDelta)||void 0===l?void 0:l.size)&&void 0!==o?o:0).toDP(6).toString():void 0,J=L?new c.Z(null!==(d=null==R?void 0:R.leverageMultiple)&&void 0!==d?d:0).toDP(2).toString():void 0;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,j.Z)({block:"new_position"===C||"init"===C,hidden:"new_position"!==C&&"init"!==C}),children:(0,a.jsx)(D.R,{quote:R,isQuoteLoading:T,isQuoteError:O,quoteError:A,quoteNotionalFmt:E,quoteSizeFmt:q,quoteLevFmt:J})}),(0,a.jsx)("div",{className:(0,j.Z)({hidden:"new_position"===C||"init"===C||"new_position_error"===C}),children:(0,a.jsx)(B,{quote:R,isQuoteLoading:T,quoteNotionalFmt:E,quoteSizeFmt:q,quoteLevFmt:J,onConfirm:()=>{var e;I({sizeDelta:null!==(e="sizeDelta"===S.activeField?S.size:q)&&void 0!==e?e:"0)",side:S.side,slippageTolerance:S.maxSlippage,fullClose:!1,marketId:null==P?void 0:P.id.toString()})}})}),(0,a.jsx)("div",{className:(0,j.Z)({hidden:"init"===C||"new_position"===C||"new_position_review"===C||"new_position_processing"===C||"new_position_success"===C||"new_position_error"===C}),children:(0,a.jsx)(K.A,{signature:S.signature})}),i.l&&E&&Number(E)>0&&(0,a.jsx)("div",{className:"mt-default",children:(0,a.jsx)(u,{pointsQuote:null==R?void 0:R.pointsQuote,variant:"DIAMOND_HANDS"})})]})}},43622:function(e,l,t){t.d(l,{R:function(){return K}});var a=t(52676),i=t(73451),n=t(68459),s=t(60057),r=t(31032),o=t(78688),d=t(71177),c=t(30054),u=t(91671),m=t(5968),x=t(22476),f=t(34245),p=t(55509),h=t(33650),v=t(46566),g=t(45924),j=t(75271),y=t(51621),w=t(12249),b=t(86305),N=t(14509),D=t(63943),F=t(1151);function C(){let{state:e,dispatch:l}=(0,n.A8)();return(0,a.jsxs)("div",{className:"flex w-full border-b border-neutral-border-surface-default",children:[(0,a.jsx)("button",{"data-cy":"dir-sel-long",onClick:()=>{l({type:"setSide",payload:"long"})},className:(0,g.Z)("flex transition-all items-center border-b justify-center w-full h-[60px] p-default",{"border-trend-uptrend-default":"long"===e.side,"border-transparent":"long"!==e.side}),children:(0,a.jsx)(F.a,{className:(0,g.Z)("transition-all",{"text-trend-uptrend-default":"long"===e.side,"text-neutral-paragraph-default":"long"!==e.side}),category:"label",mode:"default",children:"Long"})}),(0,a.jsx)("button",{"data-cy":"dir-sel-short",onClick:()=>{l({type:"setSide",payload:"short"})},className:(0,g.Z)("flex transition-all items-center border-b justify-center w-full h-[60px] p-default",{"border-trend-downtrend-default":"short"===e.side,"border-transparent":"short"!==e.side}),children:(0,a.jsx)(F.a,{className:(0,g.Z)("transition-all",{"text-trend-downtrend-default":"short"===e.side,"text-neutral-paragraph-default":"short"!==e.side}),category:"label",mode:"default",children:"Short"})})]})}var _=t(38972),S=t(49238),k=t(31368),P=t(62654),z=t(97881),I=t(33228),Z=t(23077),M=t(78433),R=t(2802),T=t(45603),L=t(61284),O=t(49178),A=t(38670),E=t(62068),q=t(80003),J=t(53765),W=t(74704),U=t(85047);function Q(e){let{onSelect:l,leverage:t,onLeverageChange:i,minLev:n,maxLev:s}=e,{isLoading:r,isSuccess:d}=(0,o.K)(),c=d?[n,Math.round((Number(n)+Number(s))/2),s]:[];return(0,a.jsxs)("div",{"data-cy":"leverage-presets",className:"flex items-center justify-between w-full mt-default",children:[r?(0,a.jsx)(a.Fragment,{children:"Loading..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-full pr-x-small",children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),l(),i(c[0].toString())},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsxs)(F.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:[c[0],"x"]})})}),(0,a.jsx)("div",{className:"w-full pr-x-small",children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),l(),i(c[1].toString())},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsxs)(F.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:[c[1],"x"]})})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),l(),i(c[2].toString())},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsx)(F.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:"MAX"})})})]}),(0,a.jsx)(U.o,{}),(0,a.jsx)("div",{className:"w-full pr-x-small",children:(0,a.jsx)(A.E,{onFocus:l,dataCy:"leverage-selection",className:"flex text-[11px] items-center justify-center w-full mb-none py-xx-small bg-neutral-fill-surface-background h-[25px]",value:null!=t?t:"",icon:"xmark-large",iconPrefix:"sharp-solid",onInputChange:e=>{(0,E.i)(e,2)||i(e)}})})]})}function H(e){var l;let{onConfirm:t,activeField:i,setActiveField:n,notional:s,size:o,leverage:d,isQuoteLoading:c,isQuoteError:u,side:m,onNotionalChange:x,onSizeChange:f,onLeverageChange:p}=e,{publicKey:h}=(0,q.O)(),{showModal:v,setModalContent:g}=(0,S.dd)(),{data:j}=(0,r.M)(),{data:y,isSuccess:w}=(0,I.J)(e=>e.marginAccounts),[b]=(0,W.Nr)(m,300),{data:N,isInitialLoading:D,isSuccess:C}=(0,Z.O)({side:b}),_=new J.Z(null!==(l=null==N?void 0:N.maxPositionModification.openInterestDelta.notional)&&void 0!==l?l:0).toSD(6,J.Z.ROUND_DOWN).toString();return(0,a.jsxs)("form",{"data-cy":"new-position-form",className:"flex flex-col items-center justify-center border-b pt-default px-default border-neutral-border-surface-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)(R.k,{tooltipTitle:"Amount",tooltipContent:"Notional amount (w/ leverage) that will be risked for this trade",textSize:"default",children:"Amount"}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),n("notionalDelta"),x(_.toString())},children:(0,a.jsxs)(F.a,{category:"overline",mode:"default",className:"flex items-center mt-xx-small text-neutral-label-default",children:["MAX\xa0",(0,a.jsxs)("span",{className:"text-[#88AEEC]",children:["$",(0,M.a)(_)]})]})})]}),c&&"notionalDelta"!==i?(0,a.jsx)(O.o,{height:"41px",width:"140px"}):(0,a.jsx)(A.E,{onFocus:()=>n("notionalDelta"),dataCy:"amount-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"dollar-sign",iconPrefix:"sharp-solid",value:null!=s?s:"",onInputChange:e=>{(0,E.i)(e,6)||x(e)}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center w-full",children:(0,a.jsxs)(R.k,{tooltipTitle:"Size",tooltipContent:'Trades are measured in "square feet," functioning similarly to trading a single stock, where one "square foot" represents a unit of trade and not an actual piece of property.',textSize:"default",children:["Size ","— sqft"]})}),c&&"sizeDelta"!==i?(0,a.jsx)(O.o,{height:"41px",width:"140px"}):(0,a.jsx)(A.E,{onFocus:()=>n("sizeDelta"),dataCy:"size-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"ruler-combined",iconPrefix:"sharp-solid",value:null!=o?o:"",onInputChange:e=>{(0,E.i)(e,3)||f(e)}})]}),D?(0,a.jsx)(O.o,{width:"100%",height:"24px"}):C?(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(R.k,{tooltipTitle:"Leverage",tooltipContent:"Measured at the entire account level – not at the individual trade level",textSize:"default",children:"Leverage"}),(0,a.jsx)("div",{className:"w-[200px]",children:(0,a.jsx)(L.e,{onFocus:()=>n("targetLeverageMultiple"),step:.01,min:new J.Z(N.minPositionModification.leverageMultiple).toSD(2,J.Z.ROUND_UP).toNumber(),max:new J.Z(N.maxPositionModification.leverageMultiple).toSD(2,J.Z.ROUND_DOWN).toNumber(),value:parseFloat(null!=d?d:"0"),setValue:e=>{p(e.toString())},onRangeChange:e=>{}})})]}):null,D?(0,a.jsxs)("div",{className:"flex gap-x-small mt-default",children:[(0,a.jsx)(O.o,{width:"80px",height:"35px"}),(0,a.jsx)(O.o,{width:"80px",height:"35px"}),(0,a.jsx)(O.o,{width:"80px",height:"35px"}),(0,a.jsx)(O.o,{width:"80px",height:"35px"})]}):C?(0,a.jsx)(Q,{onSelect:()=>n("targetLeverageMultiple"),leverage:d,onLeverageChange:p,minLev:new J.Z(N.minPositionModification.leverageMultiple).toSD(2,J.Z.ROUND_UP).toNumber(),maxLev:new J.Z(N.maxPositionModification.leverageMultiple).toSD(2,J.Z.ROUND_DOWN).toNumber()}):null,(0,a.jsx)("div",{className:"w-full pb-default ",children:w&&0===y.length?(0,a.jsx)(T.z,{intent:"primary",className:"w-full mt-default",onClick:e=>{e.preventDefault(),g({body:(0,a.jsx)(k.Q,{}),options:{preventClose:!0,maxWidth:430}}),v()},children:"Create Account"}):0===Number(null==j?void 0:j.marginCollateral)?(0,a.jsx)(T.z,{onClick:e=>{e.preventDefault(),g({header:{component:(0,a.jsx)(a.Fragment,{})},body:(0,a.jsx)(P.Fy,{}),options:{maxWidth:430,className:"rounded-lg"}}),v()},className:"w-full mt-default",intent:"primary",children:"Fund Account"}):(0,a.jsx)(T.z,{"data-cy":"review-trade-btn",onClick:e=>{e.preventDefault(),h?t():(0,z.t)({setModalContent:g,showModal:v})},disabled:c||u||null!==h&&(""===o||void 0===o||void 0===m),className:"w-full mt-default",intent:null===h?"primary":"long"===m?"success":"danger",children:null!==h?"Preview":"Connect Wallet"})})]})}var B=t(7541);function K(e){var l,t;let{quote:F,isQuoteLoading:S,isQuoteError:k,quoteError:P,quoteNotionalFmt:z,quoteSizeFmt:I,quoteLevFmt:Z}=e,[M,R]=(0,j.useState)(!1),{route:T,setRoute:L}=(0,s.y)(),{hideDrawer:O,setDrawerContent:A}=(0,i.yT)(),{data:E}=(0,r.M)(),{state:q,dispatch:J}=(0,n.A8)(),{isMobile:W}=(0,c.d)(),{data:U}=(0,o.K)(),{data:Q}=(0,d.A)(null==U?void 0:U.id),K=(0,p.xP)(q.notional)||(0,p.xP)(q.size)||(0,p.xP)(q.leverage);return(0,a.jsx)(h.u,{show:"new_position"===T||"init"===T,as:j.Fragment,enter:"transition ease-out duration-300",enterFrom:W?"opacity-0 translate-x-10":"opacity-0 translate-y-10",enterTo:W?"opacity-100 translate-x-0":"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{"data-cy":"new-position",className:"w-full",children:[Q&&Q.length>0?(0,a.jsx)(a.Fragment,{children:W?null:(0,a.jsx)("div",{className:"flex justify-center w-full",children:(0,a.jsx)(f.G,{onClick:()=>{L("view_positions")}})})}):null,(0,a.jsx)(a.Fragment,{children:W?(0,a.jsx)("div",{className:"flex justify-start w-full p-default",children:(0,a.jsx)("button",{className:"w-auto",onClick:()=>{Q&&Q.length>0?(L("view_positions"),A({content:(0,a.jsx)(N.TradeFlow,{}),options:{fullScreen:!0}})):O()},children:(0,a.jsx)(u.J,{name:"xmark-large",prefix:"sharp-solid",color:"default",size:"small"})})}):null}),(0,a.jsx)(x.T,{className:"w-full overflow-hidden border rounded-lg shadow-lg lg:border shadow-black border-neutral-border-surface-default",children:(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)(D.p,{onAccountSelectorChange:e=>{R(e)}}),(0,a.jsxs)("div",{className:(0,g.Z)("relative",{"cursor-not-allowed":M}),children:[(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,g.Z)("transition-all duration-300 rounded-lg absolute w-full h-full bg-black",{"opacity-60 z-10":M,"opacity-0 -z-10":!M})}),(0,a.jsx)(C,{}),(0,a.jsx)(H,{onConfirm:()=>{L("new_position_review")},activeField:q.activeField,setActiveField:e=>(0,y.T)(q.activeField,e,J,I,z),notional:"notionalDelta"===q.activeField?q.notional:z,size:"sizeDelta"===q.activeField?q.size:I,side:q.side,isQuoteLoading:S,isQuoteError:k,leverage:"targetLeverageMultiple"===q.activeField?q.leverage:Z,onNotionalChange:e=>{J({type:"setNotional",payload:{notional:e}})},onSizeChange:e=>{J({type:"setSize",payload:{size:e}})},onLeverageChange:e=>{J({type:"setLeverage",payload:{leverage:e}})}}),k?(0,a.jsx)("div",{className:"flex m-default",children:(0,a.jsx)(m.U,{iconName:"circle-exclamation",intent:"danger",heading:"Something went wrong",body:(0,v.IZ)(P)?null===(l=P.response)||void 0===l?void 0:l.data.message:"There was an error getting the quote. Please try again."})}):K&&Number(null==E?void 0:E.marginCollateral)>0?(0,a.jsx)("div",{className:"flex m-default",children:(0,a.jsx)(b.N,{})}):null,(0,a.jsx)("div",{className:"w-full border-b p-default border-neutral-border-surface-default",children:(0,a.jsx)(_.K,{loading:S,fillPrice:(null==F?void 0:F.fillPrice)||"",slippage:q.maxSlippage,setSlippage:e=>{J({type:"setMaxSlippage",payload:e})}})}),(0,a.jsx)("div",{className:"mt-default px-default",children:(0,a.jsx)(B.w,{loading:S,makerFeeRate:null==U?void 0:U.makerFeeRate,takerFeeRate:null==U?void 0:U.takerFeeRate,tradeFee:null==F?void 0:F.tradeFee})}),(0,a.jsx)("div",{className:"flex w-full px-default mt-default pb-default",children:(0,a.jsx)(w.S,{loading:S,liquidationPrice:null!==(t=null==F?void 0:F.liquidationPrice)&&void 0!==t?t:"",positionMaintenanceMarginRatio:null==F?void 0:F.positionMaintenanceMarginRatio,positionInitialMarginRatio:null==F?void 0:F.positionInitialMarginRatio})})]})]})})]})})}},7541:function(e,l,t){t.d(l,{w:function(){return m}});var a=t(52676),i=t(78433),n=t(91671),s=t(1151),r=t(51035),o=t(98241),d=t(49178),c=t(45924),u=t(75271);function m(e){let{loading:l,tradeFee:t,makerFeeRate:m,takerFeeRate:x}=e,[f,p]=(0,u.useState)(!1);return(0,a.jsx)(r.z,{classParentString:"w-full",open:f,trigger:(0,a.jsxs)("div",{onClick:()=>{p(!f)},className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(n.J,{name:"chevron-right",prefix:"sharp-solid",color:"default",size:"x-small",className:(0,c.Z)("mr-x-small transform transition-all",{"rotate-90":f})}),(0,a.jsx)(s.a,{category:"paragraph",mode:"small",children:"Trading Fees"})]}),(0,a.jsx)(o.Z,{className:"mx-x-small"}),l?(0,a.jsx)(d.o,{height:"20px",width:"80px"}):(0,a.jsxs)(s.a,{category:"label",mode:"small",className:"text-trend-downtrend-default whitespace-nowrap",children:["- $",(0,i.a)(t)]})]}),children:(0,a.jsxs)("div",{className:"flex flex-col w-full pl-default pt-default",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full pb-x-small",children:[(0,a.jsx)(s.a,{category:"paragraph",mode:"small",children:"Maker Fee"}),l?(0,a.jsx)(d.o,{height:"20px",width:"80px"}):(0,a.jsxs)(s.a,{category:"label",mode:"small",children:[m,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)(s.a,{category:"paragraph",mode:"small",children:"Taker Fee"}),l?(0,a.jsx)(d.o,{height:"20px",width:"80px"}):(0,a.jsxs)(s.a,{category:"label",mode:"small",children:[x,"%"]})]})]})})}},13737:function(e,l,t){t.d(l,{A:function(){return d}});var a=t(52676),i=t(60057),n=t(10154),s=t(22476),r=t(33650),o=t(75271);function d(e){let{signature:l}=e,{route:t}=(0,i.y)();return(0,a.jsx)(r.u,{unmount:!1,show:"new_position_timeout"===t||"edit_position_timeout"===t,as:o.Fragment,enter:"transition ease-out duration-300",enterFrom:"opacity-0 translate-y-10",enterTo:"opacity-100 translate-y-0",children:(0,a.jsx)("div",{children:(0,a.jsx)(s.T,{className:"flex flex-col items-center justify-center w-full text-center",children:(0,a.jsx)(n.I,{signature:l})})})})}},14509:function(e,l,t){t.r(l),t.d(l,{TradeFlow:function(){return eX},TradeFlowActionColumn:function(){return eG}});var a=t(52676),i=t(60057),n=t(78688),s=t(45487),r=t(71177),o=t(5968),d=t(22476),c=t(38850),u=t(86712),m=t(80003),x=t(45924),f=t(43622),p=t(5513),h=t(88408),v=t(73451),g=t(77312),j=t(92267),y=t(57562);let w="positions-collapsed";var b=t(91671),N=t(1151),D=t(49178),F=t(33650),C=t(75271),_=t(19593),S=t(97062),k=t(41638),P=t(78433),z=t(45603),I=t(98241),Z=t(83052),M=t(53765),R=t(51035),T=t(23843);function L(){var e,l,t,i,s,r,o,d,c,u,m,f;let[p,h]=(0,C.useState)(!1),{data:v}=(0,n.K)(),g=(0,k.q)(null==v?void 0:v.id);return(0,a.jsx)(R.z,{open:p,trigger:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full cursor-pointer",onClick:()=>{h(!p)},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.J,{name:"chevron-right",prefix:"sharp-solid",color:"default",size:"x-small",className:(0,x.Z)("transition-all mr-x-small",{"transform rotate-90":p})}),(0,a.jsx)(N.a,{category:"label",mode:"small",children:"Performance"})]}),(0,a.jsx)("div",{children:(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(l=new M.Z(null!==(e=null==g?void 0:g.pnlInfo.totalPnl.value)&&void 0!==e?e:0).toDP(2,M.Z.ROUND_DOWN).toString())&&void 0!==l?l:"0",percent:null!==(i=new M.Z(null!==(t=null==g?void 0:g.pnlInfo.totalPnl.percentChange)&&void 0!==t?t:0).toDP(4,M.Z.ROUND_DOWN).toString())&&void 0!==i?i:"0"}})})]}),children:(0,a.jsxs)("div",{className:"flex flex-col mt-x-small ml-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-x-small",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Price Performance"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(r=new M.Z(null!==(s=null==g?void 0:g.pnlInfo.priceComponent.value)&&void 0!==s?s:0).toDP(2,M.Z.ROUND_DOWN).toString())&&void 0!==r?r:"0",percent:null!==(d=new M.Z(null!==(o=null==g?void 0:g.pnlInfo.priceComponent.percentChange)&&void 0!==o?o:0).toDP(4,M.Z.ROUND_DOWN).toString())&&void 0!==d?d:"0"}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Funding Performance"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(u=new M.Z(null!==(c=null==g?void 0:g.pnlInfo.accruedFunding.value)&&void 0!==c?c:0).toDP(2,M.Z.ROUND_DOWN).toString())&&void 0!==u?u:"0",percent:null!==(f=new M.Z(null!==(m=null==g?void 0:g.pnlInfo.accruedFunding.percentChange)&&void 0!==m?m:0).toDP(4,M.Z.ROUND_DOWN).toString())&&void 0!==f?f:"0"}})]})]})})}function O(){var e,l,t,s,o;let{publicKey:c}=(0,m.O)(),{setRoute:u}=(0,i.y)(),{dispatch:x}=(0,h.TH)(),{data:f}=(0,n.K)(),p=(0,k.q)(null==f?void 0:f.id),{data:v,isSuccess:g}=(0,r.A)(null==f?void 0:f.id),{data:j,isSuccess:y}=(0,S.o)({marketId:null!==(e=null==f?void 0:f.id.toString())&&void 0!==e?e:"0"}),{dispatch:w}=(0,_.J)();return(0,a.jsxs)(d.T,{"data-cy":"position-aggregate",className:"p-default",children:[(0,a.jsxs)("div",{className:"flex items-center mb-default",children:[(0,a.jsx)(N.a,{category:"label",mode:"default",className:"whitespace-nowrap",children:"Market Breakdown"}),(0,a.jsx)(I.Z,{className:"ml-x-small"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Total Open Interest"}),(0,a.jsxs)(N.a,{category:"subheading",mode:"default",className:"text-neutral-label-default",children:["$",(0,P.a)(new M.Z(null!==(l=null==p?void 0:p.openInterest.notional)&&void 0!==l?l:0).toDP(2,M.Z.ROUND_DOWN).toString())]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full mb-default",children:[(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",children:["Total Size ","— sqft"]}),(0,a.jsx)(N.a,{category:"label",mode:"default",children:new M.Z(null!==(t=null==p?void 0:p.openInterest.size)&&void 0!==t?t:0).toDP(3,M.Z.ROUND_DOWN).toString()})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full mb-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Total Position Spread"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(N.a,{category:"label",mode:"default",className:"text-trend-uptrend-default",children:[new M.Z(null!==(s=null==p?void 0:p.openInterestDistribution.long.percent)&&void 0!==s?s:0).toDP(2).toString(),"%"]}),(0,a.jsx)(N.a,{className:"mx-xx-small",category:"paragraph",mode:"small",children:"/"}),(0,a.jsxs)(N.a,{category:"label",mode:"default",className:"text-trend-downtrend-default",children:[new M.Z(null!==(o=null==p?void 0:p.openInterestDistribution.short.percent)&&void 0!==o?o:0).toDP(2).toString(),"%"]})]})]}),(0,a.jsx)(Z.d,{className:"mb-default"}),(0,a.jsx)(L,{}),y&&j.length>0||(null==v?void 0:v.length)===0&&g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.d,{className:"mt-default"}),(0,a.jsx)(z.z,{onClick:()=>{void 0!==j&&(u("new_position"),w({type:"setActiveAccountId",payload:{publicKey:c,accountId:j[0].id,persist:!0}}),x({type:"reset"}))},intent:"secondary",className:"mt-default",children:"New Position"})]}):null]})}var A=t(95612),E=t(71075),q=t(28278),J=t(49238),W=t(52415),U=t(62654),Q=t(44878),H=t(3580);function B(e){var l;let{account:t,showInfo:i}=e,{publicKey:n}=(0,m.O)(),{setModalContent:s,visible:r,showModal:o}=(0,J.dd)(),{setDrawerContent:d,showDrawer:c,visible:u}=(0,v.yT)(),{openFlyout:f,closeFlyout:p}=(0,q.u)(),{dispatch:h}=(0,_.J)(),{mutedColor:g}=(0,A.J)(t.healthRatio),j=()=>{h({type:"setActiveAccountId",payload:{publicKey:n,accountId:null==t?void 0:t.id,persist:!0}}),s({body:(0,a.jsx)(U.Fy,{initialDirection:"deposit"}),header:{component:(0,a.jsx)(a.Fragment,{})},options:{className:"fullscreen-modal-mobile",maxWidth:430}}),o()};return(0,a.jsxs)("div",{className:"flex justify-between items-center w-full rounded-t-lg bg-".concat(g," p-default"),children:[(0,a.jsxs)(N.a,{category:"label",mode:"small",className:"flex items-center truncate w-[150px] mr-default",children:[(null==t?void 0:t.wasRecentlyLiquidated)?(0,a.jsx)(b.J,{name:"lightbulb-exclamation-on",prefix:"sharp-regular",size:"medium",className:"flex-shrink-0 mr-default",color:"danger"}):null,t.name]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(N.a,{category:"label",mode:"small",className:(0,x.Z)("transition-all duration-300 flex items-center",{"text-signal-error-default":new M.Z(t.healthRatio).lte(E.a),"text-signal-warning-default":new M.Z(t.healthRatio).lte(E.s)&&new M.Z(t.healthRatio).gt(E.a),"text-neutral-label-default":!0===i&&new M.Z(t.healthRatio).gt(E.s),"text-neutral-paragraph-default":new M.Z(t.healthRatio).gt(E.s)&&(!1===i||void 0===i)}),children:["$",(0,P.a)(t.marginCollateral)]}),(0,a.jsx)("div",{className:"mx-x-small -my-[0.5px]",children:(0,a.jsx)(H.A,{health:null!==(l=t.healthRatio)&&void 0!==l?l:""})}),new M.Z(t.healthRatio).lte(E.s)&&(0,a.jsx)("div",{className:"w-1/2 mr-x-small p-x-small",onClick:e=>{e.stopPropagation(),j()},children:(0,a.jsx)(b.J,{className:"fill-signal-success-default",name:"arrow-down-from-dotted-line",prefix:"sharp-solid",color:"default"})}),(0,a.jsx)(Q.X,{options:[{text:"View Details",icon:{name:"angles-right"},action:()=>{f(t),d({content:(0,a.jsx)(W.l,{}),options:{fullScreen:!0,onClose:()=>{p()}}}),u||c()}},{text:"Transfer Funds",icon:{name:"arrow-down-arrow-up",color:"info"},action:()=>{h({type:"setActiveAccountId",payload:{publicKey:n,accountId:null==t?void 0:t.id,persist:!0}}),s({body:(0,a.jsx)(U.Fy,{}),header:{component:(0,a.jsx)(a.Fragment,{})},options:{className:"fullscreen-modal-mobile",maxWidth:430}}),r||o()}}],children:(0,a.jsx)("div",{className:"cursor-pointer py-default -my-default",children:(0,a.jsx)(b.J,{name:"ellipsis-vertical",prefix:"sharp-solid",color:"default",size:"small"})})})]})]})}var K=t(75065),$=t(74027),V=t(86430);function Y(e){var l,t,n,s,r,o,d,c,u;let{position:f,accountId:p,wasRecentlyLiquidated:g}=e,{publicKey:j}=(0,m.O)(),{data:y}=(0,$.t)(),{dispatch:w}=(0,_.J)(),{setRoute:D}=(0,i.y)(),{state:F,dispatch:C}=(0,h.TH)(),{hideDrawer:S}=(0,v.yT)();return(0,a.jsxs)("div",{"data-cy":"trade-position-header",className:"flex items-center justify-between w-full",children:[g?(0,a.jsx)(b.J,{name:"lightbulb-exclamation-on",prefix:"sharp-regular",size:"medium",className:"flex-shrink-0 mx-default",color:"danger"}):null,(0,a.jsxs)("div",{className:(0,x.Z)("flex items-center justify-between w-full pl-default py-default pr-x-small",{"opacity-50 ml-default":g}),children:[(0,a.jsxs)("div",{className:"flex flex-col mr-large",children:[(0,a.jsx)(N.a,{category:"label",mode:"small",className:(0,x.Z)({"text-trend-uptrend-default":(null==f?void 0:f.side)==="long","text-trend-downtrend-default":(null==f?void 0:f.side)==="short"}),children:(0,V.k)(null==f?void 0:f.side)}),(0,a.jsx)(N.a,{category:"label",mode:"default",children:new M.Z(null!==(o=null==f?void 0:null===(l=f.openInterest)||void 0===l?void 0:l.size)&&void 0!==o?o:0).toDP(3,M.Z.ROUND_DOWN).toString()})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)(N.a,{category:"label",mode:"default",className:"flex items-center",children:["$",(0,P.a)(null!==(d=null==f?void 0:f.openInterest.notional)&&void 0!==d?d:0)]}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:new M.Z(null!==(c=null==f?void 0:null===(n=f.pnlInfo)||void 0===n?void 0:null===(t=n.totalPnl)||void 0===t?void 0:t.value)&&void 0!==c?c:0).toDP(2,M.Z.ROUND_DOWN).toString(),percent:new M.Z(null!==(u=null==f?void 0:null===(r=f.pnlInfo)||void 0===r?void 0:null===(s=r.totalPnl)||void 0===s?void 0:s.percentChange)&&void 0!==u?u:0).toDP(4,M.Z.ROUND_DOWN).toString()}})]})]}),g?null:(0,a.jsxs)("div",{className:"flex items-center mx-x-small",children:[y&&K.l?(0,a.jsx)(b.J,{name:"diamond",prefix:"sharp-regular",size:"x-small",color:"reward",className:"mr-xx-small"}):null,(0,a.jsxs)("div",{className:"flex items-end justify-end w-full gap-x-small",children:[(0,a.jsx)(z.z,{"data-cy":"sell-button",onClick:e=>{if(e.stopPropagation(),"sell"===F.flowDirection){D("view_positions"),C({type:"reset"}),S();return}w({type:"setActiveAccountId",payload:{publicKey:j,accountId:p,persist:!0}}),D("edit_position"),C({type:"setFlowDirection",payload:"sell"}),C({type:"setPositionCtx",payload:f})},intent:"secondary",compressed:!0,className:(0,x.Z)("w-[32px] px-x-small",{"bg-neutral-fill-surface-backgroundhover text-agnostic-neutral-defaultNegative fill-agnostic-neutral-defaultNegative":"sell"===F.flowDirection}),children:(0,a.jsx)(b.J,{size:"small",name:"minus",prefix:"sharp-solid",color:"auto"})}),(0,a.jsx)(z.z,{"data-cy":"buy-button",onClick:e=>{if(e.stopPropagation(),"buy"===F.flowDirection){D("view_positions"),C({type:"reset"}),S();return}w({type:"setActiveAccountId",payload:{publicKey:j,accountId:p,persist:!0}}),D("edit_position"),C({type:"setFlowDirection",payload:"buy"}),C({type:"setPositionCtx",payload:f})},intent:"secondary",compressed:!0,className:(0,x.Z)("w-[32px] px-x-small",{"bg-neutral-fill-surface-backgroundhover text-agnostic-neutral-defaultNegative fill-agnostic-neutral-defaultNegative":"buy"===F.flowDirection}),children:(0,a.jsx)(b.J,{size:"small",name:"plus",prefix:"sharp-solid",color:"auto"})})]})]})]})}var G=t(99543),X=t(54801),ee=t(40639),el=t(2802),et=t(55509);function ea(e){let{position:l}=e,t=l.accruedFundingEstimateOneHour,i=(0,et.nM)(t);return(0,a.jsx)(o.U,{intent:"default",heading:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(N.a,{category:"label",mode:"small",className:"flex items-center",children:"Funding Impact (1hr)"})}),body:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"If market conditions stay the same:"}),(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",className:"items-center block mt-default",children:["You are"," ",i?(0,a.jsx)(N.a,{category:"label",mode:"small",className:"mx-xx-small text-signal-error-default",children:"Losing"}):(0,a.jsx)(N.a,{category:"paragraph",mode:"small",className:"mx-xx-small text-signal-success-default",children:"Gaining"})," ",(0,a.jsxs)(N.a,{className:"mr-xx-small",category:"label",mode:"small",children:["$",(0,P.a)(new M.Z(null!=t?t:0).abs().toSD(2).toString())]})," ","over the next 60min."]})]})})}function ei(e){var l,t,i,n;let{position:s}=e;return(0,a.jsxs)("div",{className:"border-t p-default border-neutral-border-surface-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsx)(el.k,{tooltipContent:"Execution price for this trade.",children:"Fill Price"}),(0,a.jsxs)(N.a,{category:"number",mode:"small",children:["$",(0,X._)(s.lastInteractionPrice)]})]}),(0,a.jsx)(N.a,{category:"label",mode:"small",tag:"h3",className:"mb-x-small",children:"Performance Breakdown"}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-x-small",children:[(0,a.jsx)(el.k,{tooltipContent:G.B3,children:"Price P&L"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(l=s.pnlInfo.priceComponent.value)&&void 0!==l?l:"0",percent:null!==(t=s.pnlInfo.priceComponent.percentChange)&&void 0!==t?t:"0"}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsx)(el.k,{tooltipContent:G.v6,children:"Funding P&L"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(i=s.pnlInfo.accruedFunding.value)&&void 0!==i?i:"0",percent:null!==(n=s.pnlInfo.accruedFunding.percentChange)&&void 0!==n?n:"0"}})]}),(0,a.jsx)("div",{className:"mb-default",children:(0,a.jsx)(ea,{position:s})}),(0,a.jsx)(N.a,{category:"label",mode:"small",tag:"h3",className:"mb-x-small",children:"Margin Requirements"}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-x-small",children:[(0,a.jsx)(el.k,{tooltipTitle:"Initial Margin",tooltipContent:"This is the starting amount of money needed to open a position, determined by a set formula that combines a constant ratio and a variable part that grows with the size of your trade.",children:"Initial Margin"}),(0,a.jsxs)(N.a,{category:"number",mode:"small",children:[(0,ee.J)(s.initialMarginRatio),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(el.k,{tooltipTitle:"Maintenance Margin",tooltipContent:"This is a reduced percentage of the initial margin requirement; if your account balance drops below this point as a result of 1 or more positions, you must deposit additional funds or risk having your entire account liquidated.",children:"Maintenance Margin"}),(0,a.jsxs)(N.a,{category:"number",mode:"small",children:[(0,ee.J)(s.maintenanceMarginRatio),"%"]})]})]})}function en(e){let{position:l,account:t,collapsed:i}=e,[n,s]=(0,C.useState)(!i),r=null==t?void 0:t.wasRecentlyLiquidated;return(0,C.useEffect)(()=>{(i||!n)&&s(!i)},[i]),(0,a.jsxs)("div",{"data-cy":"trade-position",style:{boxShadow:"0px 25px 50px -12px rgba(0, 0, 0, 0.25)"},className:(0,x.Z)("transition-all duration-1000 flex flex-col border rounded-lg border-neutral-border-surface-default mb-default"),children:[(0,a.jsx)("div",{className:"border-b border-neutral-border-surface-default",children:(0,a.jsx)(B,{showInfo:n,account:t})}),(0,a.jsxs)("div",{className:(0,x.Z)("transition-all duration-30 cursor-pointer",{["bg-".concat((0,A.J)(t.healthRatio).mutedColor)]:n,"cursor-pointer":n}),onClick:()=>s(!n),children:[(0,a.jsx)(Y,{wasRecentlyLiquidated:r,accountId:t.id.toString(),position:l}),(0,a.jsx)(R.z,{open:n,trigger:"",children:(0,a.jsx)(ei,{position:l})})]})]})}function es(){var e;let{data:l}=(0,n.K)(),{data:t,isLoading:s,isSuccess:o}=(0,r.A)(null==l?void 0:l.id),{route:d}=(0,i.y)(),{dispatch:c}=(0,h.TH)(),{isMobile:u}=(0,g.d)(),{hideDrawer:m}=(0,v.yT)(),[x,f]=(0,C.useState)(null!==(e=(0,j.r)(w))&&void 0!==e&&e),p=()=>{f(!x),function(e){let{collapsed:l}=e;(0,y.L)(w,l)}({collapsed:!x})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(F.u,{unmount:!1,show:"view_positions"===d,as:C.Fragment,enter:"transition ease-out duration-300",enterFrom:"opacity-0 translate-y-10",enterTo:"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{"data-cy":"trade-positions",className:"flex flex-col w-full lg:p-0 p-default",children:[(0,a.jsx)("div",{className:"mb-default",children:u?(0,a.jsx)("div",{className:"flex items-center w-full",children:(0,a.jsx)("div",{onClick:()=>{c({type:"reset"}),m()},className:"mr-default",children:(0,a.jsx)(b.J,{name:"xmark-large",prefix:"sharp-solid",color:"default",className:"cursor-pointer"})})}):null}),(0,a.jsx)("div",{style:{boxShadow:"0px 25px 50px -12px rgba(0, 0, 0, 0.25)"},className:"mb-default",children:(0,a.jsx)(O,{})}),s?(0,a.jsx)(D.o,{height:"40px",width:"100%"}):o&&(null==t?void 0:t.length)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-default",children:[(0,a.jsx)(N.a,{category:"label",mode:"default",children:"Positions"}),(0,a.jsx)("div",{onClick:()=>{p()},className:"cursor-pointer p-x-small",children:(0,a.jsx)(b.J,{name:x?"arrow-up-right-and-arrow-down-left-from-center":"arrow-down-left-and-arrow-up-right-to-center",prefix:"sharp-solid",color:"default",size:"x-small"})})]}),(0,a.jsx)("div",{className:"flex flex-col w-full",children:null==t?void 0:t.sort((e,l)=>Number(e.id)-Number(l.id)).map(e=>{let t=e.positions.find(e=>e.marketId===(null==l?void 0:l.id.toString()));return t?(0,a.jsx)(en,{position:t,account:e,collapsed:x},"".concat(e.name,"_").concat(e.id)):null})})]})]})})})}var er=t(92323),eo=t(66916),ed=t(64656),ec=t(67997),eu=t(13507);function em(){var e,l,t,a,i,n,s,r,o,d,c,u,m;let{state:x}=(0,h.TH)(),f=function(e){let{flowDirection:l}=e;return void 0===l?"buyInfo":"".concat(l,"Info")}({flowDirection:x.flowDirection}),p=(0,C.useMemo)(()=>{var e;return{...(0,eo.N)({activeField:x.activeField,sellInfo:x.sellInfo}),inputKind:(0,ed.A)(x.activeField)?x.activeField:"notionalDelta",marketId:null===(e=x.positionCtx)||void 0===e?void 0:e.marketId,maxSlippage:x.maxSlippage}},[x.activeField,x.maxSlippage,null===(e=x.positionCtx)||void 0===e?void 0:e.marketId,x.sellInfo]),{data:v,isInitialLoading:g,isSuccess:j,isError:y,error:w}=(0,ec._)(p),b={...(0,eo.o)({activeField:x.activeField,buyInfo:x.buyInfo}),inputKind:(0,ed.p)(x.activeField)?x.activeField:"notionalDelta",side:eY(f,null===(l=x.positionCtx)||void 0===l?void 0:l.side),maxSlippage:x.maxSlippage},{data:N,isInitialLoading:D,isSuccess:F,isError:_,error:S}=(0,eu.p)(b),k="sell"===x.flowDirection?v:N,P="sell"===x.flowDirection?g:D,z="sell"===x.flowDirection?j:F,I="sell"===x.flowDirection?y:_,Z="sell"===x.flowDirection?w:S,R=z&&(null==k?void 0:null===(t=k.openInterestDelta)||void 0===t?void 0:t.notional)?new M.Z(k.openInterestDelta.notional).toDP(6).toString():"",T=z&&(null==k?void 0:null===(a=k.openInterestDelta)||void 0===a?void 0:a.size)?new M.Z(k.openInterestDelta.size).toDP(6).toString():"",L=z?new M.Z(null!==(s=null==k?void 0:k.leverageMultiple)&&void 0!==s?s:0).toDP(6).toString():void 0,O=z?new M.Z(null!==(r=null==k?void 0:null===(i=k.openInterestDelta)||void 0===i?void 0:i.size)&&void 0!==r?r:0).div(null!==(o=null===(n=x.positionCtx)||void 0===n?void 0:n.openInterest.size)&&void 0!==o?o:0).mul(100).toDP(0).toString():void 0;return{directionKey:f,quote:"sell"===x.flowDirection?v:N,isQuoteLoading:P,isQuoteSuccess:z,isQuoteError:I,quoteError:Z,quoteNotionalFmt:R,quoteSizeFmt:T,quotePercentFmt:O,quoteLevFmt:L,size:"sizeDelta"===x.activeField?null!==(d=x[f].size)&&void 0!==d?d:"0":null!=T?T:"0",notional:"notionalDelta"===x.activeField?null!==(c=x[f].notional)&&void 0!==c?c:"0":null!=R?R:"0",percent:"percentClose"===x.activeField?null!==(u=x.sellInfo.percent)&&void 0!==u?u:"0":null!=O?O:"0",leverage:"targetLeverageMultiple"===x.activeField?null!==(m=x.buyInfo.leverage)&&void 0!==m?m:"0":null!=L?L:"0"}}var ex=t(46896),ef=t(54393),ep=t(84263),eh=t(31032),ev=t(34245),eg=t(31368),ej=t(97881),ey=t(33228),ew=t(23077),eb=t(38670),eN=t(62068),eD=t(46566),eF=t(74704),eC=t(12249),e_=t(38972),eS=t(7541);function ek(){var e,l,t,n,s,r,o,d,c,u,m,f;let[p,v]=(0,C.useState)(!1),{state:g}=(0,h.TH)(),{route:j}=(0,i.y)(),y=(0,et.xP)(null!==(o=null===(e=g.positionCtx)||void 0===e?void 0:e.pnlInfo.totalPnl.value)&&void 0!==o?o:0),w=new M.Z(null!==(d=null===(l=g.positionCtx)||void 0===l?void 0:l.pnlInfo.totalPnl.value)&&void 0!==d?d:0);return(0,a.jsx)(R.z,{className:"w-full",classParentString:"w-full",trigger:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onClick:()=>{v(!p)},className:"flex items-center justify-between w-full cursor-pointer pb-default",children:[(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap ",children:[(0,a.jsx)(b.J,{name:"chevron-right",prefix:"sharp-solid",color:"default",size:"x-small",className:(0,x.Z)("mr-x-small transform transition-all",{"rotate-90":p})}),(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"edit_position_success"===j?"Settlement P&L":"Est. Settlement P&L"})]}),(0,a.jsx)("div",{className:"w-full mr-default",children:(0,a.jsx)(I.Z,{className:"ml-x-small"})}),(0,a.jsxs)(N.a,{className:(0,x.Z)({"text-trend-uptrend-default":y,"text-trend-downtrend-default":!y}),category:"label",mode:"small",children:[y?"+":"-","$",w.abs().toDP(2).toFixed(2).toString()]})]})}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pl-default mb-x-small",children:[(0,a.jsx)(el.k,{tooltipContent:G.B3,children:"Price P&L"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(c=null===(t=g.positionCtx)||void 0===t?void 0:t.pnlInfo.priceComponent.value)&&void 0!==c?c:"0",percent:null!==(u=null===(n=g.positionCtx)||void 0===n?void 0:n.pnlInfo.priceComponent.percentChange)&&void 0!==u?u:"0"}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pl-default mb-default",children:[(0,a.jsx)(el.k,{tooltipContent:G.v6,children:"Funding P&L"}),(0,a.jsx)(T.Q,{size:"small",performance:{notional:null!==(m=null===(s=g.positionCtx)||void 0===s?void 0:s.pnlInfo.accruedFunding.value)&&void 0!==m?m:"0",percent:null!==(f=null===(r=g.positionCtx)||void 0===r?void 0:r.pnlInfo.accruedFunding.percentChange)&&void 0!==f?f:"0"}})]})]})})}var eP=t(51621);function ez(){var e;let{data:l}=(0,n.K)(),{state:t,dispatch:s}=(0,h.TH)(),{setRoute:r}=(0,i.y)(),{quote:d,isQuoteLoading:c,isQuoteError:u,quoteError:x,quoteNotionalFmt:f,quoteSizeFmt:p,leverage:v,size:g,notional:j}=em(),{publicKey:y}=(0,m.O)(),{showModal:w,setModalContent:b}=(0,J.dd)(),{data:F}=(0,eh.M)(),{data:C,isSuccess:_}=(0,ey.J)(e=>e.marginAccounts),[S]=(0,eF.Nr)(t.side,300),{data:k}=(0,ew.O)({side:S}),I=Number(null==k?void 0:k.maxPositionModification.openInterestDelta.notional),Z=e=>{(0,eP.T)(t.activeField,e,s,p,f)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{className:"flex flex-col items-center justify-center border-t border-neutral-border-surface-default pt-default px-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)(el.k,{tooltipTitle:"Amount",tooltipContent:"Notional amount (w/ leverage) that will be risked for this trade",textSize:"default",children:"Amount"}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),Z("notionalDelta"),s({type:"setNotional",payload:{notional:I.toString()}})},children:(0,a.jsxs)(N.a,{category:"overline",mode:"default",className:"flex items-center mt-xx-small text-neutral-label-default",children:["MAX\xa0",(0,a.jsxs)("span",{className:"text-[#88AEEC]",children:["$",(0,P.a)(I)]})]})})]}),c&&"notionalDelta"!==t.activeField?(0,a.jsx)(D.o,{height:"41px",width:"140px"}):(0,a.jsx)(eb.E,{onFocus:()=>Z("notionalDelta"),dataCy:"buy-amount-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"dollar-sign",iconPrefix:"sharp-solid",value:null!=j?j:"",onInputChange:e=>{(0,eN.i)(e,6)||s({type:"setNotional",payload:{notional:e}})}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-default",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center w-full",children:(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",children:["Size ","— sqft"]})}),c&&"sizeDelta"!==t.activeField?(0,a.jsx)(D.o,{className:"mb-default",height:"43px",width:"140px"}):(0,a.jsx)(eb.E,{onFocus:()=>Z("sizeDelta"),dataCy:"size-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"ruler-combined",iconPrefix:"sharp-solid",value:g,onInputChange:e=>{(0,eN.i)(e,6)||s({type:"setSize",payload:{size:e}})}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Leverage"}),(0,a.jsxs)(N.a,{category:"paragraph",mode:"default",children:[new M.Z(v).toDP(2).toString(),"x"]})]}),(0,a.jsxs)("div",{className:"w-full pb-default ",children:[_&&0===C.length?(0,a.jsx)(z.z,{intent:"primary",className:"w-full mt-default",onClick:e=>{e.preventDefault(),b({body:(0,a.jsx)(eg.Q,{}),options:{preventClose:!0,maxWidth:430}}),w()},children:"Create Account"}):0===Number(null==F?void 0:F.marginCollateral)?(0,a.jsx)(z.z,{onClick:e=>{e.preventDefault(),b({header:{component:"Deposit",background:"frosted"},body:(0,a.jsx)(U.Fy,{}),options:{maxWidth:375,className:"rounded-lg"}}),w()},className:"w-full mt-default",intent:"primary",children:"Fund Account"}):(0,a.jsx)(z.z,{"data-cy":"review-trade-btn",onClick:e=>{e.preventDefault(),y?r("edit_position_review"):(0,ej.t)({setModalContent:b,showModal:w})},disabled:c||u||!(p&&f),className:"w-full mt-default",intent:null===y?"primary":t.positionCtx&&(null==t?void 0:t.positionCtx.side)==="long"?"success":"danger",children:null!==y?"Preview":"Connect Wallet"}),(0,a.jsx)("div",{className:"w-full border-b pt-default border-neutral-border-surface-default"})]}),u?(0,a.jsx)("div",{className:"flex mb-default",children:(0,a.jsx)(o.U,{iconName:"circle-exclamation",intent:"danger",heading:"Something went wrong",body:(0,eD.IZ)(x)?null===(e=x.response)||void 0===e?void 0:e.data.message:"There was an error getting the quote. Please try again."})}):null]}),(0,a.jsx)("div",{className:"flex w-full pb-default px-default",children:(0,a.jsx)(eS.w,{loading:c,makerFeeRate:null==l?void 0:l.makerFeeRate,takerFeeRate:null==l?void 0:l.takerFeeRate,tradeFee:null==d?void 0:d.tradeFee})}),(0,a.jsx)("div",{className:"flex items-center justify-between w-full px-default",children:(0,a.jsx)(ek,{})}),(0,a.jsxs)("div",{className:"flex w-full mb-default px-default",children:[(0,a.jsx)(eC.S,{liquidationPrice:null==d?void 0:d.liquidationPrice,positionMaintenanceMarginRatio:null==d?void 0:d.positionMaintenanceMarginRatio,positionInitialMarginRatio:null==d?void 0:d.positionInitialMarginRatio,loading:c})," "]}),(0,a.jsx)("div",{className:"flex w-full border-t px-default pt-default border-neutral-border-surface-default pb-default",children:(0,a.jsx)(e_.K,{loading:c,fillPrice:(null==d?void 0:d.fillPrice)||"",slippage:t.maxSlippage,setSlippage:e=>{s({type:"setMaxSlippage",payload:e})}})})]})}var eI=t(61284),eZ=t(85047);function eM(e){let{sellPercent:l,onSellPercentChange:t}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("div",{className:"w-full pr-x-small",children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),t("50")},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsx)(N.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:"50%"})})}),(0,a.jsx)("div",{className:"w-full pr-x-small",children:(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),t("75")},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsx)(N.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:"75%"})})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("button",{"data-cy":"max-sell-button",onClick:e=>{e.preventDefault(),t("100")},className:"flex items-center justify-center w-full rounded-[4px] py-xx-small bg-neutral-fill-surface-background",children:(0,a.jsx)(N.a,{category:"paragraph",className:"text-[11px]",mode:"small",children:"MAX"})})}),(0,a.jsx)(eZ.o,{}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(eb.E,{dataCy:"sell-percent-input",className:"flex text-[11px] items-center justify-center w-full mb-none h-[25px] py-xx-small bg-neutral-fill-surface-background",icon:"percent",iconPrefix:"sharp-solid",value:null!=l?l:"",onInputChange:e=>{if(!(0,eN.i)(e,2)){if(Number(e)>=100)return t("100");t(e)}}})})]})}function eR(){var e,l,t;let{data:s}=(0,n.K)(),{publicKey:r}=(0,m.O)(),{showModal:d,setModalContent:c}=(0,J.dd)(),{setRoute:u}=(0,i.y)(),{state:x,dispatch:f}=(0,h.TH)(),{data:p}=(0,eh.M)(),{quote:v,isQuoteLoading:g,isQuoteError:j,quoteError:y,quoteNotionalFmt:w,quoteSizeFmt:b,quotePercentFmt:D}=em(),F=e=>{(0,eP.V)(x.activeField,e,f,b,w)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{className:"flex flex-col items-center justify-center border-t pt-default px-default border-neutral-border-surface-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"100"===D?"Close Position":"Sell Position"}),(0,a.jsx)("div",{className:"w-[200px]",children:(0,a.jsx)(eI.e,{step:1,min:0,max:100,value:"percentClose"===x.activeField?Number(x.sellInfo.percent):Number(D),setValue:e=>{F("percentClose"),f({type:"setPercent",payload:{percent:e.toString()}})},onRangeChange:e=>{}})})]}),(0,a.jsx)("div",{className:"w-full my-default",children:(0,a.jsx)(eM,{sellPercent:"percentClose"===x.activeField?x.sellInfo.percent:D,onSellPercentChange:e=>{F("percentClose"),f({type:"setPercent",payload:{percent:e}})}})}),(0,a.jsxs)("div",{className:"flex justify-between w-full mb-default",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center w-full",children:(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Close Amount"})}),(0,a.jsx)(eb.E,{dataCy:"sell-amount-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"dollar-sign",iconPrefix:"sharp-solid",value:null!==(l="notionalDelta"===x.activeField?x.sellInfo.notional:w)&&void 0!==l?l:0,onFocus:()=>F("notionalDelta"),onInputChange:e=>{(0,eN.i)(e,6)||f({type:"setNotional",payload:{notional:e}})}})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center w-full",children:(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",children:["Size ","— sqft"]})}),(0,a.jsx)(eb.E,{dataCy:"sell-size-input",className:"min-w-[140px] w-[140px] !mb-none fill-neutral-paragraph-default",icon:"ruler-combined",iconPrefix:"sharp-solid",value:null!==(t="sizeDelta"===x.activeField?x.sellInfo.size:b)&&void 0!==t?t:0,onFocus:()=>F("sizeDelta"),onInputChange:e=>{(0,eN.i)(e,6)||f({type:"setSize",payload:{size:e}})}})]}),(0,a.jsxs)("div",{className:"w-full pb-default ",children:[0===Number(null==p?void 0:p.marginCollateral)?(0,a.jsx)(z.z,{onClick:e=>{e.preventDefault(),c({header:{component:(0,a.jsx)(a.Fragment,{})},body:(0,a.jsx)(U.Fy,{}),options:{maxWidth:430,className:"rounded-lg"}}),d()},className:"w-full mt-default",intent:"primary",children:"Fund Account"}):(0,a.jsx)(z.z,{"data-cy":"review-sell",onClick:e=>{e.preventDefault(),r?u("edit_position_review"):(0,ej.t)({setModalContent:c,showModal:d})},disabled:g||!(b&&w&&D),className:"w-full mt-default",intent:null===r?"primary":x.positionCtx&&(null==x?void 0:x.positionCtx.side)==="long"?"success":"danger",children:null!==r?"Preview":"Connect Wallet"}),(0,a.jsx)("div",{className:"border-b mt-default border-neutral-border-surface-default"})]}),j?(0,a.jsx)("div",{className:"flex mb-default",children:(0,a.jsx)(o.U,{iconName:"circle-exclamation",intent:"danger",heading:"Something went wrong",body:(0,eD.IZ)(y)?null===(e=y.response)||void 0===e?void 0:e.data.message:"There was an error getting the quote. Please try again."})}):null]}),(0,a.jsx)("div",{className:"flex w-full pb-default px-default",children:(0,a.jsx)(eS.w,{loading:g,makerFeeRate:null==s?void 0:s.makerFeeRate,takerFeeRate:null==s?void 0:s.takerFeeRate,tradeFee:null==v?void 0:v.tradeFee})}),(0,a.jsx)("div",{className:"flex items-center justify-between w-full px-default",children:(0,a.jsx)(ek,{})}),(0,a.jsx)("div",{className:"flex w-full border-t px-default pt-default border-neutral-border-surface-default pb-default",children:(0,a.jsx)(e_.K,{loading:g,fillPrice:(null==v?void 0:v.fillPrice)||"",slippage:x.maxSlippage,setSlippage:e=>{f({type:"setMaxSlippage",payload:e})}})})]})}function eT(){var e;let{route:l,setRoute:t}=(0,i.y)(),{state:n,dispatch:s}=(0,h.TH)(),{isMobile:r}=(0,g.d)(),{data:o}=(0,eh.M)();return(0,a.jsx)(F.u,{unmount:!1,show:"edit_position"===l,as:C.Fragment,enter:"transition ease-out duration-300",enterFrom:r?"opacity-0 translate-x-10":"opacity-0 translate-y-10",enterTo:r?"opacity-100 translate-x-0":"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{children:[r?(0,a.jsx)("div",{className:"flex items-center w-full p-default",children:(0,a.jsx)("div",{onClick:()=>{t("view_positions"),s({type:"reset"})},className:"mr-default",children:(0,a.jsx)(b.J,{name:"arrow-left",prefix:"sharp-solid",color:"default",className:"cursor-pointer"})})}):(0,a.jsx)("div",{className:"flex justify-center w-full",children:(0,a.jsx)(ev.G,{onClick:()=>{t("view_positions"),s({type:"reset"})}})}),(0,a.jsx)(d.T,{style:{boxShadow:"0px 25px 50px -12px rgba(0, 0, 0, 0.25)"},className:"border border-transparent md:border-neutral-border-surface-default",children:(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[o&&(0,a.jsx)(B,{account:o}),(0,a.jsx)(Y,{accountId:null!==(e=null==o?void 0:o.id.toString())&&void 0!==e?e:"",position:n.positionCtx}),"buy"===n.flowDirection?(0,a.jsx)(ez,{}):(0,a.jsx)(eR,{})]})})]})})}function eL(e){let{onRetry:l}=e,{route:t,setRoute:n}=(0,i.y)(),{dispatch:s}=(0,h.TH)(),{isMobile:r}=(0,g.d)();return(0,a.jsx)(F.u,{unmount:!1,show:"edit_position_error"===t,as:C.Fragment,enter:"transition ease-out duration-300",enterFrom:"opacity-0 translate-y-10",enterTo:"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{children:[r?(0,a.jsx)("div",{className:"flex items-center w-full p-default",children:(0,a.jsx)("div",{onClick:()=>{n("view_positions"),s({type:"reset"})},className:"mr-default",children:(0,a.jsx)(b.J,{name:"arrow-left",prefix:"sharp-solid",color:"default",className:"cursor-pointer"})})}):(0,a.jsx)("div",{className:"flex justify-center w-full",children:(0,a.jsx)(ev.G,{onClick:()=>{n("view_positions"),s({type:"reset"})}})}),(0,a.jsxs)(d.T,{className:"flex flex-col items-center h-[300px] justify-center w-full",children:[(0,a.jsx)(b.J,{size:"medium",name:"circle-exclamation",color:"danger",prefix:"sharp-solid"}),(0,a.jsx)(N.a,{category:"subheading",mode:"default",className:"text-neutral-label-default my-medium",children:"Transaction Failed"}),(0,a.jsx)(z.z,{onClick:l,intent:"secondary",className:"w-auto",children:"Re-send Transaction"})]})]})})}var eO=t(57578),eA=t(47203),eE=t(30054),eq=t(2972),eJ=t(30266),eW=t(5788),eU=t.n(eW),eQ=t(67376);function eH(){var e,l,t,i,n,s,r;let{state:o}=(0,h.TH)(),{data:d}=(0,eh.M)(),{directionKey:c,size:u,notional:m,leverage:x}=em(),f=new M.Z(null!==(n=null===(l=o.positionCtx)||void 0===l?void 0:null===(e=l.openInterest)||void 0===e?void 0:e.notional)&&void 0!==n?n:0),p=new M.Z(null!==(s=null===(i=o.positionCtx)||void 0===i?void 0:null===(t=i.openInterest)||void 0===t?void 0:t.size)&&void 0!==s?s:0),v=new M.Z(""===m?"0":m),g=new M.Z(""===u?"0":u);return(0,a.jsxs)("div",{className:"flex flex-col w-full border-t p-default border-neutral-border-surface-default",children:[(0,a.jsx)(N.a,{category:"label",mode:"small",children:"New Position"}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mt-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Amount"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:f.toDP(2,M.Z.ROUND_DOWN).toString()}),(0,a.jsx)(b.J,{name:"arrow-right-long",prefix:"sharp-solid",color:"default",size:"x-small",className:"mx-x-small"}),(0,a.jsx)(N.a,{category:"label",mode:"small",children:"buyInfo"===c?f.add(v).toDP(2,M.Z.ROUND_DOWN).toFixed(2).toString():f.minus(v).toDP(2,M.Z.ROUND_DOWN).toFixed(2).toString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mt-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Size"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:p.toDP(6,M.Z.ROUND_DOWN).toFixed(6).toString()}),(0,a.jsx)(b.J,{name:"arrow-right-long",prefix:"sharp-solid",color:"default",size:"x-small",className:"mx-x-small"}),(0,a.jsx)(N.a,{category:"label",mode:"small",children:"buyInfo"===c?p.add(g).toDP(6,M.Z.ROUND_DOWN).toFixed(6).toString():p.sub(g).toDP(6,M.Z.ROUND_DOWN).toFixed(6).toString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mt-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Leverage"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",children:[new M.Z(null!==(r=null==d?void 0:d.leverageMultiple)&&void 0!==r?r:0).toDP(2,M.Z.ROUND_DOWN).toFixed(2).toString(),"x"]}),(0,a.jsx)(b.J,{name:"arrow-right-long",prefix:"sharp-solid",color:"default",size:"x-small",className:"mx-x-small"}),(0,a.jsxs)(N.a,{category:"label",mode:"small",children:[new M.Z(x).toDP(2,M.Z.ROUND_DOWN).toFixed(2).toString(),"x"]})]})]})]})]})}function eB(e){var l,t,r,c;let{onConfirm:u}=e,{data:f}=(0,s.y)(),{data:p}=(0,n.K)(),{route:v,setRoute:g}=(0,i.y)(),{state:j,dispatch:y}=(0,h.TH)(),{quote:w,isQuoteLoading:D,isQuoteSuccess:_,size:S,notional:k,leverage:I}=em(),{isMobile:Z}=(0,eE.d)(),{publicKey:R}=(0,m.O)(),{data:T}=(0,eA.L)(),L=0>=Number(null!=T?T:0),{setModalContent:O,showModal:A}=(0,J.dd)(),{data:E,isSuccess:q}=(0,$.t)();return(0,a.jsx)(F.u,{unmount:!1,show:"edit_position_review"===v||"edit_position_processing"===v||"edit_position_success"===v,as:C.Fragment,enter:"transition ease-out duration-300",enterFrom:Z?"opacity-0 translate-x-10":"opacity-0 translate-y-10",enterTo:Z?"opacity-100 translate-x-0":"opacity-100 translate-y-0",children:(0,a.jsxs)("div",{className:"w-full",children:[Z||"edit_position_success"!==v?null:(0,a.jsx)("div",{className:"flex justify-center w-full",children:(0,a.jsx)(ev.G,{onClick:()=>{y({type:"reset"}),g("view_positions"),q&&!E&&(0,eO.g)({publicKey:R,setModalContent:O,showModal:A}),y({type:"buyFlowReset"})}})}),(0,a.jsxs)(d.T,{className:"flex justify-start border border-transparent md:border-neutral-border-surface-default w-full flex-col items-center min-h-[300px] shadows-lg shadow-black",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start w-full border-b p-default border-neutral-border-surface-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start w-full",children:["edit_position_review"===v?(0,a.jsx)("button",{"data-cy":"edit-position-back-btn",onClick:()=>{g("edit_position")},children:(0,a.jsx)(b.J,{name:"arrow-left",className:"mr-default",prefix:"sharp-solid",color:"default"})}):null,(0,a.jsxs)(N.a,{className:"text-white",category:"label",mode:"small",children:["edit_position_review"===v?"Review Order":null,"edit_position_processing"===v?"Order Processing":null,"edit_position_success"===v?"Order Confirmed":null]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end w-full",children:["edit_position_processing"===v?(0,a.jsx)(eJ.$,{size:"small"}):null,"edit_position_success"===v?(0,a.jsx)(b.J,{name:"check",prefix:"sharp-solid",color:"success"}):null]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full px-default pt-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pb-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Est. Fill Price"}),(0,a.jsx)(N.a,{category:"label",mode:"default",children:(0,eq.Y)(new M.Z(null!==(r=null==w?void 0:w.fillPrice)&&void 0!==r?r:0).toDP(2,M.Z.ROUND_DOWN).toString(),null!==(c=null==f?void 0:f.currency)&&void 0!==c?c:"usd")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full border-b pb-default border-neutral-fill-surface-background",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Max Slippage"}),(0,a.jsxs)(N.a,{category:"label",mode:"default",children:[(0,ee.J)(j.maxSlippage,1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full p-default",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pb-default",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Amount"}),(0,a.jsxs)(N.a,{category:"label",mode:"default",children:["$",(0,P.a)(k)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full pb-default",children:[(0,a.jsxs)(N.a,{category:"paragraph",mode:"small",children:["Size ","— sqft"]}),(0,a.jsx)(N.a,{category:"label",mode:"default",children:S})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full border-b pb-default border-neutral-fill-surface-background",children:[(0,a.jsx)(N.a,{category:"paragraph",mode:"small",children:"Leverage"}),(0,a.jsxs)(N.a,{category:"label",mode:"default",children:[new M.Z(null!=I?I:"0").toDP(2).toString(),"x"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full px-default",children:[L&&(0,a.jsx)(o.U,{iconName:"coin-front",body:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-default",children:(0,a.jsx)("span",{className:"",children:"SOL is used for gas fees on the solana blockchain."})}),(0,a.jsx)(eU(),{legacyBehavior:!0,href:"https://www.parcl.co/blog/what-are-blockchain-gas-fees",children:(0,a.jsx)("a",{target:"_blank",className:"font-semibold underline mt-default",children:"What is SOL needed for?"})})]}),intent:"warning",heading:"Need More SOL",className:"mb-default"}),"edit_position_success"!==v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.z,{"data-cy":"edit-position-btn",disabled:"edit_position_processing"===v,intent:(null===(l=j.positionCtx)||void 0===l?void 0:l.side)==="long"?"success":"danger",onClick:u,children:"edit_position_processing"===v?(0,a.jsx)(eJ.$,{size:"small"}):"".concat("sell"===j.flowDirection?"Close":"Open"," ").concat((0,V.k)(null===(t=j.positionCtx)||void 0===t?void 0:t.side)," Position")}),(0,a.jsx)("div",{className:"border-b mt-default border-neutral-border-surface-default"})]}),(0,a.jsx)("div",{className:(0,x.Z)("flex w-full",{"mt-default":"edit_position_success"!==v}),children:(0,a.jsx)(eS.w,{loading:D,makerFeeRate:null==p?void 0:p.makerFeeRate,takerFeeRate:null==p?void 0:p.takerFeeRate,tradeFee:null==w?void 0:w.tradeFee})}),(0,a.jsx)("div",{className:"flex flex-col w-full mt-default",children:(0,a.jsx)(ek,{})}),"buy"===j.flowDirection?(0,a.jsxs)("div",{className:"flex w-full mb-default",children:[(0,a.jsx)(eC.S,{liquidationPrice:null==w?void 0:w.liquidationPrice,positionMaintenanceMarginRatio:null==w?void 0:w.positionMaintenanceMarginRatio,positionInitialMarginRatio:null==w?void 0:w.positionInitialMarginRatio,loading:D})," "]}):null]}),("edit_position_review"===v||"edit_position_processing"===v)&&_&&(0,a.jsx)(eH,{}),"edit_position_success"===v&&(0,a.jsx)(eQ.s,{signature:j.signature})]}),Z&&"edit_position_success"===v?(0,a.jsx)("div",{className:"flex items-center w-full p-default",children:(0,a.jsx)(z.z,{onClick:()=>{g("view_positions"),y({type:"reset"}),q&&!E&&(0,eO.g)({publicKey:R,setModalContent:O,showModal:A})},className:"w-full",intent:"secondary",children:"Close"})}):null]})})}var eK=t(13737);function e$(){let e=(0,ep.NL)(),{route:l,setRoute:t}=(0,i.y)(),{state:n,dispatch:s}=(0,h.TH)(),{quote:r,directionKey:o}=em(),{mutate:d}=(0,ex.n)({onMutate:()=>{t("edit_position_processing")},onSuccess:e=>{t("edit_position_success"),s({type:"setSignature",payload:e})},onTimeout:e=>{s({type:"setSignature",payload:e}),t("edit_position_timeout")},onError:l=>{if((0,ef.w)(l)){e.invalidateQueries([er.yI]),t("edit_position_timeout");return}t("edit_position_error")}});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,x.Z)({hidden:"view_positions"!==l}),children:(0,a.jsx)(es,{})}),(0,a.jsx)("div",{className:(0,x.Z)({hidden:"edit_position"!==l}),children:(0,a.jsx)(eT,{})}),(0,a.jsx)("div",{className:(0,x.Z)({hidden:"edit_position"===l||"view_positions"===l||"edit_position_error"===l}),children:(0,a.jsx)(eB,{onConfirm:()=>{var e,l,t;d({sizeDelta:null!==(t=null==r?void 0:r.openInterestDelta.size)&&void 0!==t?t:"0",side:eY(o,null===(e=n.positionCtx)||void 0===e?void 0:e.side),slippageTolerance:n.maxSlippage,fullClose:eV({directionKey:o,state:n}),marketId:null===(l=n.positionCtx)||void 0===l?void 0:l.marketId})}})}),(0,a.jsx)("div",{className:(0,x.Z)({hidden:"edit_position_error"!==l}),children:(0,a.jsx)(eL,{onRetry:()=>{var e,l,t;d({sizeDelta:null!==(t=null==r?void 0:r.openInterestDelta.size)&&void 0!==t?t:"0",side:eY(o,null===(e=n.positionCtx)||void 0===e?void 0:e.side),slippageTolerance:n.maxSlippage,fullClose:eV({directionKey:o,state:n}),marketId:null===(l=n.positionCtx)||void 0===l?void 0:l.marketId})}})}),(0,a.jsx)("div",{className:(0,x.Z)({hidden:"edit_position"===l||"view_positions"===l||"edit_position_review"===l||"edit_position_processing"===l||"edit_position_success"===l||"edit_position_error"===l}),children:(0,a.jsx)(eK.A,{signature:n.signature})})]})})}function eV(e){var l;let{directionKey:t,state:a}=e;return"sellInfo"===t&&a[t].size===(null===(l=a.positionCtx)||void 0===l?void 0:l.openInterest.size)}function eY(e,l){if(!l||"buyInfo"===e&&"long"===l)return"long";if("sellInfo"===e&&"long"===l||"buyInfo"===e&&"short"===l)return"short";if("sellInfo"===e&&"short"===l)return"long";throw Error("Invalid side")}function eG(){let{autoConnect:e}=(0,m.O)(),{isInitialLoading:l}=(0,s.y)(),{data:t,isInitialLoading:i,isError:o,refetch:x}=(0,n.K)(),{isInitialLoading:f}=(0,r.A)(null==t?void 0:t.id);return!0===e&&f&&l?null:o?(0,a.jsx)(d.T,{className:"mt-medium",children:(0,a.jsx)(c.i,{variant:"xl",refetch:x,className:"mb-default",label:"Failed to fetch market",content:"Please try again later."})}):i||l?null:(0,a.jsx)("div",{"data-cy":"tradeflow-context",className:"no-scrollbar lg:-mt-[20px] -mt-0",children:(0,a.jsx)(eX,{disabled:!(0,u.h)(t)})})}function eX(e){let{disabled:l}=e,{route:t}=(0,i.y)(),{data:n}=(0,s.y)();return(0,a.jsx)(a.Fragment,{children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.U,{intent:"default",heading:"".concat(null==n?void 0:n.name," is off-market"),className:"mb-default",iconName:"house-circle-xmark",body:"This market is not yet tradable."}),(0,a.jsxs)("div",{className:(0,x.Z)("relative",{"cursor-not-allowed":l}),children:[(0,a.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,x.Z)("transition-all flex justify-center items-center duration-300 absolute w-full h-full bg-black rounded-lg",{"opacity-70 z-10":l,"opacity-0 -z-10":!l})}),(0,a.jsx)(f.R,{quote:void 0,isQuoteLoading:!1,isQuoteError:!1,quoteError:void 0,quoteNotionalFmt:void 0,quoteSizeFmt:void 0,quoteLevFmt:void 0})]})]}):"view_positions"===t||t.startsWith("edit")?(0,a.jsx)(e$,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.g,{})})})}},64656:function(e,l,t){t.d(l,{A:function(){return i},p:function(){return a}});let a=e=>"sizeDelta"===e||"notionalDelta"===e||"targetLeverageMultiple"===e,i=e=>"sizeDelta"===e||"notionalDelta"===e||"percentClose"===e},13507:function(e,l,t){t.d(l,{p:function(){return m}});var a=t(60057),i=t(31032),n=t(78688),s=t(66626),r=t(86712),o=t(91040),d=t(80003),c=t(95274),u=t(13537);function m(e){let{inputKind:l,sizeDelta:t,notionalDelta:m,targetLeverageMultiple:x,side:f,maxSlippage:p,select:h}=e,{route:v}=(0,a.y)(),{publicKey:g}=(0,d.O)(),{data:j}=(0,i.M)(),{data:y,isSuccess:w}=(0,n.K)();return(0,c.a)([u.WU,"market_".concat(null==y?void 0:y.id),null==g?void 0:g.toBase58(),"activeAccount_".concat(null==j?void 0:j.id),"size_".concat(t),"notional_".concat(m),"lev_".concat(x),"input_".concat(l),"side_".concat(f),"slippage_".concat(p)],async()=>{try{if(!y||!Number(y.id))return(0,o.E)("No market id provided");if(!g)return(0,o.E)("No user key provided");let e=await (0,s.W)({walletAddress:null==g?void 0:g.toBase58()});return await e.user.getModifyPositionQuote({marketId:y.id,inputKind:l,input:function(e){let{inputKind:l,sizeDelta:t,notionalDelta:a,leverageMultiple:i}=e;if("sizeDelta"===l&&void 0!==t)return t;if("notionalDelta"===l&&void 0!==a)return a;if("targetLeverageMultiple"===l&&void 0!==i)return i;throw Error("Input kind mismatch")}({inputKind:l,sizeDelta:t,notionalDelta:m,leverageMultiple:x}),side:f,marginAccountId:null==j?void 0:j.id,slippageTolerance:p})}catch(e){throw console.error({error:e}),e}},{select:h,enabled:w&&(0,r.h)(y)&&"new_position_success"!==v&&!!(null==y?void 0:y.id)&&Number(y.id)>0&&!!l&&(Number(t)>0||Number(m)>0||Number(x)>0)&&!!f&&!!p&&void 0!==j&&Number(null==j?void 0:j.marginCollateral)>0&&null!==g,retry:!1})}},23077:function(e,l,t){t.d(l,{O:function(){return c}});var a=t(31032),i=t(78688),n=t(66626),s=t(91040),r=t(80003),o=t(95274),d=t(13537);function c(e){let{side:l}=e,{publicKey:t}=(0,r.O)(),{data:c}=(0,a.M)(),{data:u}=(0,i.K)();return(0,o.a)([d.Cy,null==t?void 0:t.toBase58(),null==c?void 0:c.id,null==u?void 0:u.address.toString(),l],async()=>{if(!l)return(0,s.E)("No side provided");let e=await (0,n.W)({walletAddress:null==t?void 0:t.toBase58()});return await e.user.getPositionModificationLimitsQuote({marketId:(null==u?void 0:u.id)||0,marginAccountId:(null==c?void 0:c.id)||0,side:l})},{enabled:null!==t&&(null==c?void 0:c.id)!==void 0&&"0"!==c.marginCollateral&&void 0!==l})}},41638:function(e,l,t){t.d(l,{q:function(){return i}});var a=t(33228);function i(e){let{data:l}=(0,a.J)(l=>{var t;return l.openInterestInfoByMarket[null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"0"]});return l}},63261:function(e,l,t){t.d(l,{$:function(){return n}});var a=t(55509),i=t(49214);function n(e,l){if(void 0===e)return"--";if(0===Number(e))return"0.00";let t=(0,i.y)(l),n=(0,a.xP)(e)?"+".concat(t):"-".concat(t),s=Math.abs(Number(e));return s<.009?"<".concat(t,"0.00"):"".concat(n).concat(s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))}},88765:function(e,l,t){t.d(l,{x:function(){return o}});var a=t(52676),i=t(90530),n=t(52108),s=t(8403),r=t(45924);function o(e){let{heightClasses:l=s.x}=e;return(0,a.jsx)("div",{className:(0,r.Z)("flex items-center justify-center w-full",l),children:(0,a.jsx)("div",{className:"lg:h-[100px] lg:w-[100px] h-[50px] w-[50px]",children:(0,a.jsx)(n.q,{animationData:i})})})}},84045:function(e,l,t){t.d(l,{E:function(){return v}});var a=t(52676),i=t(40385),n=t(77312),s=t(1151),r=t(45823),o=t(80086),d=t(45924),c=t(75271),u=t(91671);function m(e){let{chartList:l,setSelectedChart:t,selectedChartTab:i}=e;return l.filter(e=>!e.disabled).length<=1?(0,a.jsx)("div",{}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex items-center",onClick:()=>{0!==i&&t(i-1)},children:(0,a.jsx)(u.J,{name:"chevron-left",size:"small",prefix:"sharp-solid",color:"default"})}),l.map((e,l)=>e.disabled?null:(0,a.jsx)("div",{className:(0,d.Z)("h-[8px] w-[8px] mx-x-small rounded-full align-middle",{"bg-neutral-label-default":l===i,"bg-neutral-paragraph-default":l!==i})},l)),(0,a.jsx)("div",{className:"flex items-center",onClick:()=>{i!==l.filter(e=>!e.disabled).length-1&&t(i+1)},children:(0,a.jsx)(u.J,{name:"chevron-right",size:"small",prefix:"sharp-solid",color:"default"})})]})}var x=t(44878);let f=["1d","1w","1m","3m","6m","1y","max"],p=["1d","1w","1m"];function h(e){let{selectedTimeFrame:l,setSelectedTimeframe:t,chartTimeFramesList:n,chartVisibleTimeframesList:o}=e,[m,h]=(0,c.useState)(!1),[v,g]=(0,c.useState)(!1),j=o||p;return(0,a.jsxs)("div",{className:"flex items-end justify-end lg:w-full w-[calc(100%+30px)] border-b border-neutral-border-surface-default lg:px-0 px-default lg:-mx-0 -mx-default lg:border-b-0",children:[(0,a.jsx)("div",{className:"lg:w-full w-[75%]",children:(0,a.jsx)(r.m,{className:"border-transparent",spacing:"default",tabsContainerClassName:"flex items-center justify-between w-full lg:w-auto lg:justify-start",tabClassName:"min-w-[40px]",selectedTabIdx:j.includes(l)?j.indexOf(l):void 0,tabs:j.map(e=>({name:i.hN[e].smallLabel,id:i.hN[e].smallLabel,onClick:()=>{t(e)}})),intent:"default",compressed:!0})}),(0,a.jsx)("div",{className:"h-[20px] mb-[10px] border-r border-neutral-border-surface-default hidden lg:block"}),(0,a.jsx)("div",{className:"lg:w-full w-[25%] flex justify-end",children:(0,a.jsx)(x.X,{popoverClassName:"lg:min-w-[160px] bg-neutral-fill-surface-default border-neutral-fill-surface-background",onClose:()=>g(!1),onOpen:()=>g(!0),options:(n||f).map(e=>({text:i.hN[e].label,textClassName:(0,d.Z)("text-neutral-paragraph-default text-[14px]",{"text-neutral-label-default w-full":e===l}),selected:e===l,action:()=>{t(e)}})),noBorders:!0,children:(0,a.jsxs)("div",{className:(0,d.Z)(" ml-default flex items-center cursor-pointer pb-x-small border-b border-transparent h-[40px] mt-[5px]",{"border-white":!j.includes(l)}),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[(0,a.jsx)("div",{children:j.includes(l)?(0,a.jsx)(s.a,{category:"paragraph",mode:"small",className:(0,d.Z)("mr-x-small font-semibold",{"text-neutral-label-default":v||m}),children:"All"}):(0,a.jsx)(s.a,{category:"label",className:"mr-x-small",mode:"small",children:i.hN[l].smallLabel})}),(0,a.jsx)(u.J,{name:"chevron-down",prefix:"sharp-solid",color:v||m||!j.includes(l)?"label":"default"})]})})})]})}function v(e){var l,t;let{chartList:u,initialTab:x,timeFrame:f,mobileNoBorder:p,onTimeframeChange:v}=e,[g,j]=(0,c.useState)(x),y=u[g],[w,b]=(0,c.useState)(f||i.B),[N,D]=(0,c.useState)(null),{isMobile:F}=(0,n.d)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-default lg:hidden",children:void 0!==g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.a,{category:"label",mode:"large",tag:"h2",className:"fill-neutral-label-default",children:y.label}),(0,a.jsx)(m,{chartList:u,setSelectedChart:e=>{j(e)},selectedChartTab:g})]})}),(0,a.jsx)("div",{className:(0,d.Z)("w-full border rounded-lg border-neutral-border-surface-default",{"lg:border border-0":p}),children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r.m,{spacing:F?"default":"0",selectedTabIdx:g,onTabChange:e=>{e!==g&&j(e)},className:"hidden border-transparent p-default lg:flex",tabs:u.map((e,l)=>{var t,n;let s=e.chart;return{name:e.label,children:(0,a.jsxs)("div",{className:"lg:min-h-[401px] min-h-[334px]",children:[(0,a.jsx)(s,{timeSeriesWindow:(0,o.v)(i.hN[w].days),timeSeriesDays:i.hN[w].days,onHover:D,onHoverEnd:D,onLoad:D,displayData:N,isMaxTimeFrame:"max"===w}),!y.hideTimeframeSelector&&(0,a.jsx)("div",{className:(0,d.Z)("flex justify-start border-t lg:hidden p-default border-neutral-border-surface-default",{"border-t-0 lg:border-t":p}),children:(0,a.jsx)(h,{selectedTimeFrame:w,setSelectedTimeframe:e=>{null==v||v(i.hN[e].days),b(e)},chartTimeFramesList:null===(t=e.options)||void 0===t?void 0:t.timeFramesList,chartVisibleTimeframesList:null===(n=e.options)||void 0===n?void 0:n.visibleTimeFramesList})})]}),id:l,disabled:e.disabled,labelClassName:e.labelClassName}}),intent:"default",compressed:!0}),!y.hideTimeframeSelector&&(0,a.jsx)("div",{className:"absolute hidden top-default right-default lg:flex",children:(0,a.jsx)(h,{selectedTimeFrame:w,setSelectedTimeframe:e=>{null==v||v(i.hN[e].days),b(e)},chartTimeFramesList:null===(l=y.options)||void 0===l?void 0:l.timeFramesList,chartVisibleTimeframesList:null===(t=y.options)||void 0===t?void 0:t.visibleTimeFramesList})})]})})]})}},39834:function(e,l,t){t.d(l,{T:function(){return C}});var a=t(52676),i=t(2972),n=t(1151),s=t(50317),r=t(58929),o=t(3671),d=t(8728),c=t(75271);let u=["9","8","7","6","5","4","3","2","1","0",",","-"],m=u.length+1,x="".concat(m,"em"),f=new Map(Array(u.length).fill(!0).map((e,l)=>[u[l],l])),p=u.map(e=>(0,a.jsx)("div",{children:e},e));function h(e){let{letter:l}=e,t=f.get(l);if(void 0===t)return(0,a.jsx)(c.Fragment,{children:l});let i="".concat(-t/(m-1)*100,"%");return(0,a.jsx)("div",{style:{height:x,position:"relative"},children:(0,a.jsx)(o.E.div,{initial:{y:i,opacity:0},animate:{y:i,opacity:1},exit:{y:i,opacity:0},transition:{ease:"easeOut"},style:{position:"absolute",left:0},children:p})})}let v={ease:"easeOut"};function g(e){let{text:l,height:t="1em"}=e,[i,n]=(0,c.useState)(!1),s=(0,c.useRef)(null),r=(0,c.useMemo)(()=>(function(e){let l=new Map;if("undefined"==typeof document)return function(e){var t;return null!==(t=l.get(e))&&void 0!==t?t:0};let t=!1,a=document.createElement("canvas").getContext("2d");return function(i){var n,s,r,o;return l.has(i)||(t||(a.font=function(e){let l=getComputedStyle(e).getPropertyValue("font");if(l)return l;let t=getComputedStyle(e).getPropertyValue("font-family"),a=getComputedStyle(e).getPropertyValue("font-size");return"".concat(a," / ").concat(a," ").concat(t)}(null!==(s=e.current)&&void 0!==s?s:document.body),t=!0),l.set(i,null!==(r=null===(n=a.measureText(i))||void 0===n?void 0:n.width)&&void 0!==r?r:0)),null!==(o=l.get(i))&&void 0!==o?o:0}})(s),[s]);(0,c.useEffect)(()=>{"undefined"!=typeof document&&"object"==typeof document.fonts.ready?document.fonts.ready.finally(()=>n(!0)):n(!0)},[]);let u={height:t,lineHeight:"string"==typeof t?t:"".concat(t,"px")};if(!i)return(0,a.jsx)("div",{style:{...u,opacity:0},children:(0,a.jsx)("span",{ref:s,children:l})});let m=String(l).split(""),x=m.map(r),f=Math.ceil(x.reduce(j,0));return(0,a.jsxs)(o.E.div,{initial:{width:f},animate:{width:f},transition:v,style:{...u,overflow:"hidden",position:"relative"},children:[(0,a.jsx)("span",{style:{color:"transparent",position:"absolute",top:0,left:0},ref:s,children:l}),(0,a.jsx)(d.M,{initial:!1,children:m.map((e,l)=>{let t=x.slice(0,l).reduce(j,0),i=x[l],n="".concat(m.length-l);return(0,a.jsx)(o.E.span,{layoutId:n,animate:{x:t,width:i,opacity:1},initial:{x:t,width:i,opacity:0},exit:{width:0,opacity:0},transition:{ease:"easeOut"},style:{position:"absolute",top:0,left:0,pointerEvents:"none"},"aria-hidden":"true",children:(0,a.jsx)(h,{letter:e})},n)})})]})}function j(e,l){return e+l}var y=t(23843),w=t(70023),b=t(45924),N=t(7810),D=t.n(N);let F={1:"today",7:"past week",30:"past month",90:"past 3m",180:"past 6m",365:"past year"},C=e=>{let{price:l,labelTag:t,mktIconSrc:o,name:d,category:u,trend:m,trendLoading:x,trendDays:f}=e,[p,h]=(0,c.useState)(null),[v,j]=(0,c.useState)(null),[N,C]=(0,c.useState)(o);return(0,c.useEffect)(()=>{p&&l&&(Number(Number(p).toFixed(2))>Number(Number(l).toFixed(2))?j("down"):Number(Number(p).toFixed(2))<Number(Number(l).toFixed(2))&&j("up"),setTimeout(()=>{j(null)},200)),l&&h(l)},[p,l]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"truncate",children:[(0,a.jsx)("div",{className:"flex items-center"}),(0,a.jsx)("div",{className:"mb-x-small",children:(0,a.jsx)(D(),{src:N,alt:"crypto icon",width:50,height:50,onError:()=>{C("/images/markets-icons/missing-tradable.svg")}})}),(0,a.jsx)(n.a,{tag:t,category:"heading",mode:"small",className:"whitespace-normal text-neutral-paragraph-default text-[26px]",children:d})]}),(0,a.jsx)(s.F,{className:"flex flex-wrap items-center rounded-lg gap-medium my-x-small",isLoading:void 0===l,children:(0,a.jsx)(w.u,{className:"w-full lg:w-auto",title:"Index Price",noUnderline:!0,content:"The exact index price of this market without any adjustment for market skew applied",children:(0,a.jsx)(n.a,{tag:"h1",category:"heading",mode:"default",className:(0,b.Z)("w-full lg:w-auto",{"text-trend-downtrend-default":"down"===v,"text-trend-uptrend-default":"up"===v}),children:(0,a.jsx)(g,{text:(0,i.Y)(l,"usd","forex"===u?4:2)})})})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(s.F,{isLoading:x,className:"rounded-lg","data-cy":"details-trend",children:(0,a.jsx)(y.Q,{size:"default",performance:{notional:m.notionalDiff.toString(),percent:m.percentDiff.toString()},decimals:"forex"===u?4:2})}),(0,a.jsx)(r.o,{className:"text-neutral-border-surface-default"}),(0,a.jsx)(s.F,{isLoading:x,className:"rounded-lg",children:(0,a.jsx)(n.a,{category:"paragraph",mode:"small",className:"text-neutral-paragraph-default",children:F[f]})})]})]})}},94096:function(e,l,t){t.d(l,{Y:function(){return x}});var a=t(52676),i=t(59305),n=t(1151),s=t(58929),r=t(86430),o=t(7810),d=t.n(o),c=t(5788),u=t.n(c),m=t(75271);function x(e){let{assetCategory:l,ticker:t,mktIconSrc:o}=e,[c,x]=(0,m.useState)(o);return(0,a.jsx)("div",{className:"flex flex-col items-center w-full border-b border-neutral-border-surface-default",children:(0,a.jsxs)("div",{className:"flex justify-start w-full mb-default",children:[(0,a.jsx)(u(),{href:"/collection/".concat(l),children:(0,a.jsx)("div",{className:"py-xx-small pl-x-small pr-x-small rounded-md text-[11px] flex items-center bg-neutral-fill-surface-background text-neutral-paragraph-default hover:bg-neutral-fill-surface-background hover:text-neutral-label-default",children:l.split("-").map(e=>(0,r.k)(e)).join(" ")})}),(0,a.jsx)(s.o,{className:"text-neutral-border-surface-default"}),(0,a.jsxs)("div",{className:"flex items-center rounded-md py-xx-small pl-xx-small pr-x-small ",style:{backgroundColor:"".concat(i.q[l],"15")},children:[(0,a.jsx)(d(),{src:c,alt:"crypto icon",width:12,height:12,onError:()=>{x("/images/markets-icons/missing-tradable.svg")}}),(0,a.jsx)(n.a,{category:"label",className:"ml-xx-small text-[11px]",children:t})]})]})})}},61284:function(e,l,t){t.d(l,{e:function(){return n}});var a=t(52676),i=t(19949);t(78712),t(75271);let n=e=>{let{onFocus:l,step:t,min:n,max:s,value:r,setValue:o,onRangeChange:d,defaultValue:c,disabled:u,...m}=e;return(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(i.Z,{onFocus:l,disabled:u,step:t,dots:!1,min:n,max:s,value:r,handleRender:e=>(0,a.jsx)("div",{...e.props}),defaultValue:c||1,onChange:e=>{o(e),d(e)},trackStyle:{display:"flex",justifyContent:"center",height:4},handleStyle:{opacity:1,border:"2px solid #9EA5AC",borderRadius:"4px",position:"relative",height:18.5,width:18.5,marginTop:-7,backgroundColor:"#121212"},railStyle:{height:4},...m})})}},98241:function(e,l,t){t.d(l,{Z:function(){return n}});var a=t(52676),i=t(39636);function n(e){let{className:l}=e;return(0,a.jsx)("div",{className:(0,i.m)("w-full border-b border-dashed flex-shrink border-neutral-border-surface-default",l)})}},58929:function(e,l,t){t.d(l,{o:function(){return n}});var a=t(52676),i=t(29524);function n(e){let{size:l=32,className:t}=e;return(0,a.jsx)("div",{className:(0,i.m)("flex items-center mx-[7.5px] text-[".concat(l,"px] leading-3 text-neutral-paragraph-default"),t),children:"\xb7"})}},34245:function(e,l,t){t.d(l,{G:function(){return s}});var a=t(52676),i=t(91671),n=t(45603);function s(e){let{onClick:l}=e;return(0,a.jsx)(n.z,{onClick:l,intent:"secondary",compressed:!0,className:"w-[32px] h-[32px] rounded-md !p-none mb-default",children:(0,a.jsx)(i.J,{name:"xmark-large",prefix:"sharp-solid",color:"auto"})})}},8403:function(e,l,t){t.d(l,{x:function(){return a}});let a="h-[276px] lg:h-[343px]"}}]);