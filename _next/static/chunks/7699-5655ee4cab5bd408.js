"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7699],{66793:function(e,a,t){t.d(a,{B:function(){return b}});var l=t(52676),n=t(50919),s=t(33228),r=t(91781),i=t(1151),d=t(86005),c=t(45603),o=t(42664),u=t(78272),m=t(45924),x=t(1386),f=t(99722),h=t(82250);let p=/^[a-z0-9-]*$/;function b(e){let{onSubmit:a}=e,{data:t,isSuccess:b}=(0,r.V)(),g=b&&t<n.Ln+n.gM,{data:j}=(0,s.J)(e=>e.marginAccounts),v=f.Ry().shape({accountName:f.Z_().optional().matches(p,"Must be lowercase & alphanumeric").min(1,"Must be between 1 and 20 characters").max(20,"Must be between 1 and 20 characters").test("is-unique","Account name already exists",e=>!(null==j?void 0:j.some(a=>a.name===e))),acceptedTerms:f.Xg().oneOf([!0],"Must accept the Terms & Conditions").required(),acceptedRisks:f.Xg().oneOf([!0],"Must accept the Risk Disclaimer").required()});return(0,l.jsx)(x.J9,{initialValues:{accountName:"",acceptedTerms:!1,acceptedRisks:!1},validationSchema:v,onSubmit:e=>{a(e)},validateOnBlur:!0,validateOnChange:!0,isInitialValid:!1,children:e=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(x.l0,{"aria-disabled":g,children:[g?(0,l.jsx)("div",{className:"flex mx-default mb-default",children:(0,l.jsx)(h.K,{body:"Creating a Trading Account requires a small amount of SOL held as rent on-chain plus gas on Solana."})}):null,(0,l.jsxs)("div",{className:(0,m.Z)("flex flex-col items-start justify-start border-b mb-default p-default border-neutral-border-surface-default",{"opacity-20 cursor-not-allowed":g}),"data-cy":"create-account-modal",children:[(0,l.jsx)("div",{className:"mb-default w-[90px]",children:(0,l.jsx)(d.y,{index:1,total:2})}),(0,l.jsx)(i.a,{category:"label",mode:"large",children:"Name Account"}),(0,l.jsx)(i.a,{category:"paragraph",mode:"small",tag:"p",className:"text-left",children:"This name will identify this account from others."})]}),(0,l.jsxs)("div",{className:(0,m.Z)("px-default mb-default",{"opacity-20 cursor-not-allowed":g}),children:[(0,l.jsx)(x.gN,{name:"accountName",children:e=>{let{field:a,meta:t}=e;return(0,l.jsxs)("div",{className:"mb-default text-start",children:[(0,l.jsx)(u.I,{className:(0,m.Z)("",{"!border !border-signal-error-default":t.touched&&t.error}),"data-cy":"create-account-name-input",...a,disabled:g}),t.touched&&t.error&&(0,l.jsx)(i.a,{category:"paragraph",mode:"small",tag:"p",className:"text-signal-error-default mt-xx-small",children:t.error})]})}}),(0,l.jsx)("div",{className:"mb-default text-[14px]",children:(0,l.jsx)(x.gN,{type:"checkbox",name:"acceptedTerms",id:"acceptedTerms",children:e=>{let{field:a}=e;return(0,l.jsx)(o.X,{label:"I agree to Parcl’s terms and conditions",...a,dataCy:"create-account-accept-terms",disabled:g})}})}),(0,l.jsx)("div",{className:"mb-default text-[14px] text-left",children:(0,l.jsx)(x.gN,{type:"checkbox",name:"acceptedRisks",id:"acceptedRisks",children:e=>{let{field:a}=e;return(0,l.jsx)(o.X,{label:"I understand the risks involved with leverage trading and understand trading with leverage can result in losing all the funds invested in my account.",...a,dataCy:"create-account-accept-risks",disabled:g})}})}),(0,l.jsx)(c.z,{"data-cy":"create-account",type:"submit",intent:"primary",disabled:!e.isValid||g,children:"Create Account"})]})]})})})}},81833:function(e,a,t){t.d(a,{K:function(){return m}});var l=t(52676),n=t(80452),s=t(77581),r=t(1151),i=t(86005),d=t(45603),c=t(5788),o=t.n(c),u=t(46402);function m(e){let{onSubmit:a}=e,{data:t}=(0,s.g)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-start justify-start border-b p-default border-neutral-border-surface-default",children:[(0,l.jsx)("div",{className:"mb-default w-[90px]",children:(0,l.jsx)(i.y,{index:2,total:2})}),(0,l.jsx)(r.a,{category:"label",className:"text-[20px]",children:"Fund Account"}),(0,l.jsx)(r.a,{category:"paragraph",mode:"small",tag:"p",className:"text-left",children:"Funding your account will enable you to trade."})]}),(null==t?void 0:t.toString())==="0"&&(0,l.jsxs)("div",{className:"flex flex-col border-b p-default border-neutral-border-surface-default",children:[(0,l.jsx)(u.N,{className:"rounded-b-none border-b-transparent"}),(0,l.jsx)("div",{className:"px-default",children:(0,l.jsx)("div",{className:"border-b border-neutral-border-surface-default"})}),(0,l.jsxs)("div",{className:"border-b border-x p-default border-neutral-border-surface-default",children:[(0,l.jsx)(r.a,{category:"label",mode:"default",tag:"p",className:"text-left mb-default",children:"In order to fund your account you need USDC to Trade on Parcl"}),(0,l.jsx)(r.a,{category:"paragraph",mode:"small",tag:"p",className:"text-left mb-default",children:"Any crypto exchange will enable you to convert any coin into USDC. On Parcl, we believe that USDC is the best coin of all time and you should always have it in your wallet, even if you don’t want or need it."}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(o(),{className:"w-full",target:"_blank",href:"https://jup.ag/swap/SOL-USDC",children:(0,l.jsx)(d.z,{intent:"secondary",children:"Use Jupiter"})})})]})]}),(0,l.jsx)(n.S,{maxDepositAmount:t,onSubmit:a})]})}},80452:function(e,a,t){t.d(a,{S:function(){return x}});var l=t(52676),n=t(1151),s=t(2802),r=t(45603),i=t(38670),d=t(45924),c=t(1386),o=t(99722);function u(e){let{setDepositAmount:a,maxDepositAmount:t,disabled:n}=e;return(0,l.jsxs)("div",{className:"flex w-full p-default",children:[(0,l.jsx)("div",{className:"w-1/4 pr-x-small",children:(0,l.jsx)(m,{disabled:n,onClick:()=>{a(100)},children:"$100"})}),(0,l.jsx)("div",{className:"w-1/4 pr-x-small",children:(0,l.jsx)(m,{disabled:n,onClick:()=>{a(300)},children:"$300"})}),(0,l.jsx)("div",{className:"w-1/4 pr-x-small",children:(0,l.jsx)(m,{disabled:n,onClick:()=>{a(500)},children:"$500"})}),(0,l.jsx)("div",{className:"w-1/4",children:(0,l.jsx)(m,{disabled:n,onClick:()=>{t&&a(Number(t))},children:"MAX"})})]})}function m(e){let{children:a,onClick:t,disabled:s}=e;return(0,l.jsx)("button",{disabled:s,type:"button",onClick:t,className:"flex transition-all group items-center justify-center w-full h-[25.5px] rounded-md p-x-small bg-neutral-fill-surface-background",children:(0,l.jsx)(n.a,{category:"overline",mode:"default",className:"transition-all group-hover:text-neutral-label-default",children:a})})}function x(e){let{onSubmit:a,maxDepositAmount:t,disabled:m}=e,x=o.Ry().shape({depositAmount:o.Rx().max(Number(t),"Must be less than ".concat(t)).positive("Must be above 0").required("Required")});return(0,l.jsx)(c.J9,{initialValues:{depositAmount:void 0},validationSchema:x,onSubmit:e=>{a(e)},children:e=>(0,l.jsx)(c.l0,{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{disabled:m,setDepositAmount:a=>e.setFieldValue("depositAmount",a),maxDepositAmount:t}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full p-default",children:[(0,l.jsx)("div",{className:"flex flex-col items-start",children:(0,l.jsx)(s.k,{tooltipContent:"USDC you would like to deposit",textCategory:"paragraph",textSize:"default",children:"Amount"})}),(0,l.jsx)(c.gN,{name:"depositAmount",children:e=>{let{field:a,meta:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(i.E,{disabled:m,style:{margin:0},className:(0,d.Z)("min-w-[140px] w-[140px] !m-0 !text-right",{"!border !border-signal-error-default":t.touched&&t.error}),icon:"usdc",iconPrefix:"sharp-solid",maxDecimals:2,onInputChange:a.onChange,...a})})}})]}),(0,l.jsx)("div",{className:"p-default",children:(0,l.jsx)(r.z,{type:"submit",intent:"primary",disabled:!e.isValid||void 0===e.values.depositAmount||m,children:"Deposit"})}),(0,l.jsxs)(n.a,{category:"paragraph",tag:"p",className:"pb-default px-default",mode:"small",children:["Funds will transfer to your account instantly and will be available immediately."," "]})]})})})}},12620:function(e,a,t){t.d(a,{h:function(){return s}});var l=t(52676),n=t(10154);function s(e){let{setModalContent:a,signature:t}=e;a({body:(0,l.jsx)(n.I,{signature:t}),options:{className:"fullscreen-modal-mobile",maxWidth:350,preventClose:!0}})}},46402:function(e,a,t){t.d(a,{N:function(){return m}});var l=t(52676),n=t(77581),s=t(54801),r=t(84679),i=t(1151),d=t(76262),c=t(72971),o=t(45924),u=t(29524);let m=e=>{let{className:a}=e,{data:t}=(0,n.g)();return(0,l.jsxs)("div",{className:(0,u.m)("flex items-center justify-between border rounded-md border-neutral-border-surface-default p-default",a),children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(c.Y,{className:"rounded-lg",size:"medium"}),(0,l.jsx)("div",{className:"ml-x-small",children:(0,l.jsx)(d.G,{className:"text-[14px]"})})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(r.g,{size:"x-small",className:"mr-x-small"}),(0,l.jsx)(i.a,{category:"label",mode:"small",className:(0,o.Z)({"text-signal-error-default":!t||"0"===t}),children:t?(0,s._)(t):"0.00"})]})]})}},50699:function(e,a,t){t.d(a,{q:function(){return b}});var l=t(49238),n=t(90506),s=t(272),r=t(54099),i=t(66626),d=t(51779),c=t(19206),o=t(54393),u=t(91040),m=t(80003),x=t(82249),f=t(84263),h=t(80714),p=t(92323);function b(e){let{onMutate:a,onSuccess:t,onError:b,onSettled:g,onTimeout:j}=e,{publicKey:v}=(0,m.O)(),{sendAndConfirmTx:y}=(0,r.Q)(),{connection:N}=(0,x.R)(),w=(0,f.NL)(),{setToast:k}=(0,n.pm)(),{setModalContent:C,hideModal:A,showModal:S}=(0,l.dd)();return(0,h.D)(async e=>{let{accountName:a}=e;if(!v)return(0,u.E)("Wallet not connected");let t=await (0,i.W)({walletAddress:v.toBase58(),accessToken:(0,d.h)({publicKey:v})}),{marginAccountId:l,tx:n}=await t.user.getCreateMarginAccountTransaction(),{signature:s,error:r}=await y(n,N);if(r&&(0,o.w)(r)){null==j||j(s);return}return void 0!==a&&console.log("accountIds",await t.user.updateMarginAccountIds({[l]:a})),{signature:s,marginAccountId:l,accountName:a}},{onMutate:()=>{null==a||a()},onSuccess:async e=>{void 0!==e&&(null==t||t(e))},onError:e=>{e instanceof Error?(0,c.f)(e)&&((0,s.q)({setModalContent:C,hideModal:A,showModal:S}),k({type:"error",msg:"Failed to authorize. Please verify wallet and try again."})):null==b||b(e)},onSettled:async(e,a)=>{await w.invalidateQueries([p.yI]),null==g||g(e,a)}})}},1510:function(e,a,t){t.d(a,{v:function(){return f}});var l=t(54099),n=t(48238),s=t(66626),r=t(54393),i=t(91040),d=t(80003),c=t(82249),o=t(84263),u=t(80714),m=t(92323),x=t(31032);function f(){let{onMutate:e,onSuccess:a,onError:t,onTimeout:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{publicKey:h}=(0,d.O)(),{connection:p}=(0,c.R)(),{data:b}=(0,x.M)(),{sendAndConfirmTx:g}=(0,l.Q)(),j=(0,o.NL)(),v=(0,n.a)();return(0,u.D)(async e=>{let{margin:a}=e;if(!h)return(0,i.E)("Wallet not connected");if((null==b?void 0:b.id)===void 0)return(0,i.E)("No valid margin account");let t=await (0,s.W)({walletAddress:h.toBase58()}),l=await t.user.getDepositMarginTransaction({marginAccountId:null==b?void 0:b.id,margin:a}),{signature:n,error:d}=await g(l,p);if(d&&(0,r.w)(d)){null==f||f(n);return}return n},{onMutate:()=>{null==e||e()},onSuccess:async(e,t)=>{e&&(console.log("successfully deposited margin",e),v({name:"V3 Deposit Margin",event:{...t,err:null}}),null==a||a(e))},onError:(e,a)=>{console.log({err:e}),v({name:"V3 Deposit Margin Error",event:{...a,err:e}}),null==t||t(e)},onSettled:async()=>{await j.invalidateQueries([m.yI])}})}},86005:function(e,a,t){t.d(a,{y:function(){return s}});var l=t(52676),n=t(1151);function s(e){let{index:a,total:t}=e;return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)(n.a,{category:"overline",className:"whitespace-nowrap ".concat(a===t?"text-signal-success-default":""),children:[a," / ",t]}),(0,l.jsx)("div",{className:"h-[2px] w-full rounded-full ml-x-small overflow-hidden flex item-center",children:Array(t).fill(0).map((e,n)=>(0,l.jsx)("div",{style:{width:"".concat(100/t,"%")},className:"h-full ".concat(a===t?"bg-signal-success-default":a<n+1?"bg-neutral-fill-surface-background":"bg-brand-default")},n))})]})}}}]);